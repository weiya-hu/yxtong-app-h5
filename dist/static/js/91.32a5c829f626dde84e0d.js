webpackJsonp([91],{"1ggc":function(a,t,e){(a.exports=e("UTlt")(!1)).push([a.i,"\n.chart-wrapper[data-v-114b5d21] {\n  width: 100%;\n  height: 100%;\n}\n.nodata-box[data-v-114b5d21] {\n  background: url(/static/imgs/nodata.png) center center no-repeat;\n  width: 100%;\n  height: 100%;\n}\n.nodata-box-atc[data-v-114b5d21] {\n  background: url(/static/imgs/nodata_atc.png) center center no-repeat;\n  width: 100%;\n  height: 100%;\n}\n.chart-loading[data-v-114b5d21] {\n  -webkit-transition: all 300ms 50ms;\n  transition: all 300ms 50ms;\n  z-index: 2000;\n  width: 100%;\n  height: 100%;\n  background: rgba(254, 254, 254, 0.7);\n  text-align: center;\n  overflow: hidden;\n  position: relative;\n}\n.chart-loading[data-v-114b5d21] .normal-size-loading {\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n          transform: translateY(-50%);\n}\n",""])},GODW:function(a,t,e){var n=e("1ggc");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("FIqI")("2c402f17",n,!0,{})},ObPF:function(a,t,e){var n=e("WWcc");"string"==typeof n&&(n=[[a.i,n,""]]),n.locals&&(a.exports=n.locals);e("FIqI")("4774c470",n,!0,{})},WWcc:function(a,t,e){(a.exports=e("UTlt")(!1)).push([a.i,"\n.el-input__inner[data-v-d45db1ea]::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner[data-v-d45db1ea]::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner[data-v-d45db1ea]:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner[data-v-d45db1ea]:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label[data-v-d45db1ea] {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox[data-v-d45db1ea] {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input[data-v-d45db1ea] {\n  font-size: 12px;\n}\ninput.el-input__inner[data-v-d45db1ea] {\n  border-color: #DFE5F1;\n}\nbutton.border-color[data-v-d45db1ea] {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner[data-v-d45db1ea] {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner[data-v-d45db1ea]::after {\n  top: 0;\n}\n.el-select-dropdown__item[data-v-d45db1ea] {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.pc-cfdadrug-analy .nodata[data-v-d45db1ea],\n.pc-cfdadrug-analy .nodata-box[data-v-d45db1ea],\n.pc-cfdadrug-analy .nodata-box-atc[data-v-d45db1ea] {\n  width: 100%;\n  height: 100%;\n}\n.pc-cfdadrug-analy .nodata-box-atc[data-v-d45db1ea] {\n  background: url(/static/imgs/nodata_atc.png) center center no-repeat;\n}\n.pc-cfdadrug-analy .nodata-box[data-v-d45db1ea],\n.pc-cfdadrug-analy .nodata[data-v-d45db1ea] {\n  background: url(/static/imgs/nodata.png) center center no-repeat;\n}\n.pc-cfdadrug-analy .fullcharts.nodata-box[data-v-d45db1ea] {\n  position: absolute;\n  top: 40px;\n  height: calc(100vh - 40px - 48px - 80px);\n  background: #fff;\n}\n.pc-cfdadrug-analy .chart .chart_top[data-v-d45db1ea] {\n  position: relative;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals[data-v-d45db1ea] {\n  height: 130px;\n  background-color: #fff;\n  -webkit-box-shadow: 0 0;\n          box-shadow: 0 0;\n  overflow: hidden;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  position: relative;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-scroll[data-v-d45db1ea] {\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-scroll .newtotals-scroll-inner[data-v-d45db1ea] {\n  position: absolute;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  height: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -ms-flex-wrap: nowrap;\n      flex-wrap: nowrap;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-scroll .newtotals-scroll-inner .total-item[data-v-d45db1ea] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-arrow[data-v-d45db1ea] {\n  display: none;\n  height: 170px;\n  line-height: 170px;\n  width: 30px;\n  color: #4877e8;\n  font-size: 20px;\n  text-align: center;\n  position: absolute;\n  top: 0px;\n  cursor: pointer;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-arrow[data-v-d45db1ea]:hover {\n  background-color: rgba(222, 222, 222, 0.5);\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-left[data-v-d45db1ea] {\n  left: 0px;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-right[data-v-d45db1ea] {\n  right: 0px;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-disabled[data-v-d45db1ea] {\n  color: #aaa;\n  cursor: normal;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .newtotals-disabled[data-v-d45db1ea]:hover {\n  background-color: transparent;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .total-item[data-v-d45db1ea] {\n  float: left;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  width: 150px;\n  height: 130px;\n  text-align: center;\n  vertical-align: text-bottom;\n  border-bottom: 3px solid #fff;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .total-item[data-v-d45db1ea]:hover {\n  color: #4877e8;\n  background-color: #eff2fa;\n  border-bottom: 3px solid #4877e8;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .total-item .li1[data-v-d45db1ea] {\n  padding-top: 30px;\n  font-size: 13px;\n  font-weight: 600;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .total-item .li2[data-v-d45db1ea] {\n  font-size: 14px;\n}\n.pc-cfdadrug-analy .chart .chart_top .newtotals .total-item .li2 span[data-v-d45db1ea] {\n  font-size: 24px;\n  color: #4877e8;\n}\n.pc-cfdadrug-analy .chart .chart-boxes[data-v-d45db1ea] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.pc-cfdadrug-analy .chart .echarts[data-v-d45db1ea] {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  display: inline-block;\n  margin: 50px 10px 20px 10px;\n  width: calc(100% - 20px);\n  height: 400px;\n}\n.pc-cfdadrug-analy .chart .hide[data-v-d45db1ea] {\n  display: none;\n}\n.pc-cfdadrug-analy .chart .dialog[data-v-d45db1ea] {\n  position: fixed;\n  z-index: 99999;\n  top: 48px;\n  left: 0px;\n  width: 100%;\n  height: calc(100% - 48px);\n  background-color: #eff2fa;\n}\n.pc-cfdadrug-analy .chart .dialog .menu[data-v-d45db1ea] {\n  position: fixed;\n  left: 0px;\n  top: 48px;\n}\n.pc-cfdadrug-analy .chart .dialog .menu .nav[data-v-d45db1ea] {\n  width: 220px;\n  padding-left: 20px;\n  line-height: 40px;\n  border-left: 4px solid #eff2fa;\n  border-bottom: 1px dashed #dfe5f1;\n  cursor: pointer;\n}\n.pc-cfdadrug-analy .chart .dialog .menu .nav.active[data-v-d45db1ea],\n.pc-cfdadrug-analy .chart .dialog .menu .nav[data-v-d45db1ea]:hover {\n  border-left: 4px solid #4877e8;\n  border-bottom: 0px;\n  background-color: #fff;\n  color: #4877e8;\n  -webkit-box-shadow: 0px 0px 5px rgba(196, 211, 248, 0.9);\n          box-shadow: 0px 0px 5px rgba(196, 211, 248, 0.9);\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap[data-v-d45db1ea] {\n  width: calc(100% - 250px) !important;\n  height: 100% !important;\n  position: absolute;\n  overflow-x: hidden;\n  top: 0px;\n  left: 250px;\n  background-color: #fff;\n  -webkit-box-shadow: 0px 0px 5px rgba(196, 211, 248, 0.9);\n          box-shadow: 0px 0px 5px rgba(196, 211, 248, 0.9);\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items-title[data-v-d45db1ea] {\n  position: relative;\n  padding-right: 40px;\n  background-color: #eff2fa;\n  line-height: 40px;\n  text-align: right;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items-title .echart-title[data-v-d45db1ea] {\n  position: absolute;\n  left: 18px;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items-title .esc-btn[data-v-d45db1ea] {\n  display: inline-block;\n  height: 100%;\n  font-size: 13px;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items-title .esc-btn img[data-v-d45db1ea] {\n  display: inline-block;\n  margin-top: 10px;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items[data-v-d45db1ea] {\n  width: 14140px;\n  height: 700px;\n  overflow-y: scroll;\n  overflow-x: hidden;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items .echarts-item[data-v-d45db1ea] {\n  display: inline-block;\n  margin: 0px 50px;\n  width: 1300px;\n  height: 100%;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .echarts-items .open-charts[data-v-d45db1ea] {\n  width: 100%;\n  height: 700px;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .ctr-actions[data-v-d45db1ea] {\n  padding: 100px 0px 20px;\n  text-align: center;\n}\n.pc-cfdadrug-analy .chart .dialog .echarts-items-wap .ctr-actions .action[data-v-d45db1ea] {\n  cursor: pointer;\n  padding: 5px;\n}\n.pc-cfdadrug-analy .chart .chart_top[data-v-d45db1ea] {\n  background-color: #eff2fa;\n}\n.pc-cfdadrug-analy .chart .chart_bottom[data-v-d45db1ea] {\n  background-color: #eff2fa;\n  padding: 0;\n}\n.pc-cfdadrug-analy .chart .back-list[data-v-d45db1ea] {\n  width: 100%;\n  line-height: 30px;\n  height: 22px;\n  text-align: right;\n  background: #eff2fa;\n  padding-right: 40px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  font-size: 14px;\n}\n.pc-cfdadrug-analy .chart .back-list a[data-v-d45db1ea]:hover {\n  color: #4877e8;\n}\n",""])},xoaj:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("ZLEe"),i=e.n(n),s=e("4YfN"),o=e.n(s),r=e("ZJ3O"),c=e("00Zy"),l=e("Pg0u"),d=e.n(l),h=e("GhF9"),p=(e("ASqz"),["cfdadrug_analy_yaopin_","cfdadrug_analy_qiye_","cfdadrug_analy_qushi_","cfdadrug_analy_diqu_","cfdadrug_analy_lingyu_","cfdadrug_analy_jixing_","cfdadrug_analy_yibao_","cfdadrug_analy_leibie_"]),g={components:{LoadingGif:r.a},props:{title:String,seriesData:{type:Array,default:function(){return[]}},yAxisData:{type:Array,default:function(){return[]}},seriesDataMap:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:function(){return!1}},eIndex:{type:Number,default:function(){return 0}},isOpen:{type:Boolean,default:function(){return!1}},type:{type:String},mapType:{type:String,default:"world"},mapCheckLock:{type:Boolean,default:function(){return!1}}},data:function(){return{myChart:null,cType:"",loaded:!1}},watch:{seriesData:function(){var a=this;this.myChart&&this.myChart.clear(),this.seriesData.length>0&&this.$nextTick(function(){a.loaded=!0,a.initChart()})},loading:function(){this.myChart&&this.myChart.clear()},cType:function(){this.seriesData.length>0&&(this.myChart&&this.myChart.clear(),this.initChart())},$route:function(){this.$route.path.includes("/analy")?window.addEventListener("resize",this.echartsResizeHandler):(window.removeEventListener("resize",this.echartsResizeHandler),this.echartsClear("open-charts"),this.echartsClear("echarts"))}},computed:{conditions:function(){return this.$store.state.CfdaDrug.conditions},isNoAtc:function(){var a=!1;return _.forEach(this.conditions,function(t){"atc"===t.name&&t.atcs_sel&&(a=!0)}),a&&4===this.eIndex}},methods:{getImgName:function(){return"药智数据企业版-"+document.title+"-智能分析-"+this.title},initChart:function(){var a=this.$refs.chart,t=this.seriesData,e=this.seriesDataMap,n=this.yAxisData,i=this.changeType,s=this.openDialog;switch(this.cType){case"map":this.myChart=function(a,t,e,n,i){var s=d.a.init(a,"yaozh_theme");return s.setOption({toolbox:{right:"20",feature:{myToggleMapt:i.mapCheckLock?{}:{show:!0,title:"切换",icon:"image:///static/imgs/echarts/check.png",onclick:function(){i.changeMapType()}},saveAsImage:{title:"保存",name:i.getImgName(),icon:"image:///static/imgs/echarts/download.png"},myToggleBar:{show:!0,title:"柱形图",icon:"image:///static/imgs/echarts/bar.png",onclick:function(){e("bar")}},myTogglePie:{show:!0,title:"饼形图",icon:"image:///static/imgs/echarts/pie.png",onclick:function(){e("pie")}},myMagnify:i.isOpen?{}:{show:!0,title:"全屏",icon:"image:///static/imgs/echarts/fullscreen.png",onclick:function(){n(i.eIndex)}}}},tooltip:{trigger:"item",formatter:function(a){return"world"===i.mapType?"\n          国家："+a.name+"<br/>\n          类型："+("中国"===a.name?"国产":"进口")+"<br/>\n          数量："+(a.value?a.value:0)+"\n          ":"\n            "+a.name+"<br/>\n            数量："+(a.value?a.value:0)+"\n          "}},visualMap:{min:0,max:t[t.length-1].value,left:"left",top:"bottom",text:["高","低"],inRange:{color:["rgba(204,231,255,1)","rgba(58,161,255,1)"]},calculable:!0},series:[{name:"数量",type:"map",mapType:i.mapType,label:{normal:{show:!1},emphasis:{show:!0}},nameMap:{"Singapore Rep.":"新加坡","Dominican Rep.":"多米尼加",Palestine:"巴勒斯坦",Bahamas:"巴哈马","Timor-Leste":"东帝汶",Afghanistan:"阿富汗","Guinea-Bissau":"几内亚比绍","Côte d'Ivoire":"科特迪瓦","Siachen Glacier":"锡亚琴冰川","Br. Indian Ocean Ter.":"英属印度洋领土",Angola:"安哥拉",Albania:"阿尔巴尼亚","United Arab Emirates":"阿联酋",Argentina:"阿根廷",Armenia:"亚美尼亚","French Southern and Antarctic Lands":"法属南半球和南极领地",Australia:"澳大利亚",Austria:"奥地利",Azerbaijan:"阿塞拜疆",Burundi:"布隆迪",Belgium:"比利时",Benin:"贝宁","Burkina Faso":"布基纳法索",Bangladesh:"孟加拉国",Bulgaria:"保加利亚","The Bahamas":"巴哈马","Bosnia and Herz.":"波斯尼亚和黑塞哥维那",Belarus:"白俄罗斯",Belize:"伯利兹",Bermuda:"百慕大",Bolivia:"玻利维亚",Brazil:"巴西",Brunei:"文莱",Bhutan:"不丹",Botswana:"博茨瓦纳","Central African Rep.":"中非",Canada:"加拿大",Switzerland:"瑞士",Chile:"智利",China:"中国","Ivory Coast":"象牙海岸",Cameroon:"喀麦隆","Dem. Rep. Congo":"刚果民主共和国",Congo:"刚果",Colombia:"哥伦比亚","Costa Rica":"哥斯达黎加",Cuba:"古巴","N. Cyprus":"北塞浦路斯",Cyprus:"塞浦路斯","Czech Rep.":"捷克",Germany:"德国",Djibouti:"吉布提",Denmark:"丹麦",Algeria:"阿尔及利亚",Ecuador:"厄瓜多尔",Egypt:"埃及",Eritrea:"厄立特里亚",Spain:"西班牙",Estonia:"爱沙尼亚",Ethiopia:"埃塞俄比亚",Finland:"芬兰",Fiji:"斐","Falkland Islands":"福克兰群岛",France:"法国",Gabon:"加蓬","United Kingdom":"英国",Georgia:"格鲁吉亚",Ghana:"加纳",Guinea:"几内亚",Gambia:"冈比亚","Guinea Bissau":"几内亚比绍","Eq. Guinea":"赤道几内亚",Greece:"希腊",Greenland:"格陵兰",Guatemala:"危地马拉","French Guiana":"法属圭亚那",Guyana:"圭亚那",Honduras:"洪都拉斯",Croatia:"克罗地亚",Haiti:"海地",Hungary:"匈牙利",Indonesia:"印度尼西亚",India:"印度",Ireland:"爱尔兰",Iran:"伊朗",Iraq:"伊拉克",Iceland:"冰岛",Israel:"以色列",Italy:"意大利",Jamaica:"牙买加",Jordan:"约旦",Japan:"日本",Kazakhstan:"哈萨克斯坦",Kenya:"肯尼亚",Kyrgyzstan:"吉尔吉斯斯坦",Cambodia:"柬埔寨",Korea:"韩国",Kosovo:"科索沃",Kuwait:"科威特","Lao PDR":"老挝",Lebanon:"黎巴嫩",Liberia:"利比里亚",Libya:"利比亚","Sri Lanka":"斯里兰卡",Lesotho:"莱索托",Lithuania:"立陶宛",Luxembourg:"卢森堡",Latvia:"拉脱维亚",Morocco:"摩洛哥",Moldova:"摩尔多瓦",Madagascar:"马达加斯加",Mexico:"墨西哥",Macedonia:"马其顿",Mali:"马里",Myanmar:"缅甸",Montenegro:"黑山",Mongolia:"蒙古",Mozambique:"莫桑比克",Mauritania:"毛里塔尼亚",Malawi:"马拉维",Malaysia:"马来西亚",Namibia:"纳米比亚","New Caledonia":"新喀里多尼亚",Niger:"尼日尔",Nigeria:"尼日利亚",Nicaragua:"尼加拉瓜",Netherlands:"荷兰",Norway:"挪威",Nepal:"尼泊尔","New Zealand":"新西兰",Oman:"阿曼",Pakistan:"巴基斯坦",Panama:"巴拿马",Peru:"秘鲁",Philippines:"菲律宾","Papua New Guinea":"巴布亚新几内亚",Poland:"波兰","Puerto Rico":"波多黎各","Dem. Rep. Korea":"朝鲜",Portugal:"葡萄牙",Paraguay:"巴拉圭",Qatar:"卡塔尔",Romania:"罗马尼亚",Russia:"俄罗斯",Rwanda:"卢旺达","W. Sahara":"西撒哈拉","Saudi Arabia":"沙特阿拉伯",Sudan:"苏丹","S. Sudan":"南苏丹",Senegal:"塞内加尔","Solomon Is.":"所罗门群岛","Sierra Leone":"塞拉利昂","El Salvador":"萨尔瓦多",Somaliland:"索马里兰",Somalia:"索马里",Serbia:"塞尔维亚",Suriname:"苏里南",Slovakia:"斯洛伐克",Slovenia:"斯洛文尼亚",Sweden:"瑞典",Swaziland:"斯威士兰",Syria:"叙利亚",Chad:"乍得",Togo:"多哥",Thailand:"泰国",Tajikistan:"塔吉克斯坦",Turkmenistan:"土库曼斯坦","East Timor":"东帝汶","Trinidad and Tobago":"特里尼达和多巴哥",Tunisia:"突尼斯",Turkey:"土耳其",Tanzania:"坦桑尼亚",Uganda:"乌干达",Ukraine:"乌克兰",Uruguay:"乌拉圭","United States":"美国",Uzbekistan:"乌兹别克斯坦",Venezuela:"委内瑞拉",Vietnam:"越南",Vanuatu:"瓦努阿图","West Bank":"西岸",Yemen:"也门","South Africa":"南非",Zambia:"赞比亚",Zimbabwe:"津巴布韦"},data:t}]}),s.on("click",function(a){"中国"===a.name&&i.changeMapType()}),s}(a,e,i,s,this);break;case"line":this.myChart=function(a,t,e,n,i){var s=d.a.init(a,"yaozh_theme");return s.setOption({toolbox:{right:"20",show:!0,feature:{saveAsImage:{title:"保存",name:i.getImgName(),icon:"image:///static/imgs/echarts/download.png"},myToggleLine:{show:!0,title:"柱状图",icon:"image:///static/imgs/echarts/bar.png",onclick:function(){i.changeType("bars")}},myMagnify:i.isOpen?{}:{show:!0,title:"全屏",icon:"image:///static/imgs/echarts/fullscreen.png",onclick:function(){n(i.eIndex)}}}},dataZoom:"上市趋势"===i.title?{type:"inside",show:!0,xAxisIndex:[0],start:0,end:100}:"",legend:{show:!0,bottom:0,data:["进口","国产","上市数量"]},tooltip:{trigger:"axis",position:"right"},grid:{containLabel:!0},xAxis:{data:t},yAxis:{type:"value"},series:[{name:"进口",type:"line",connectNulls:!0,data:e[2]},{name:"国产",type:"line",connectNulls:!0,data:e[1]},{name:"上市数量",type:"line",connectNulls:!0,data:e[0]}]}),s}(a,n,t,s,this);break;case"pie":this.myChart=function(a,t,e,n,i,s){if(e.length>10){var o=(e=window._.cloneDeep(e).reverse()).slice(0,10),r=0;e.forEach(function(a,t){t>9&&(r+=Number(a.value))}),o.push({name:"其他",value:r}),e=o.sort(function(a,t){return a.value-t.value}),t=[],e.forEach(function(a){t.push(a.name)})}var c=d.a.init(a,"yaozh_theme");return c.setOption({legend:{type:"scroll",bottom:0,data:t},toolbox:{right:"20",feature:{myToggleMapt:s.mapCheckLock||"map"!==s.type?{}:{show:!0,title:"切换",icon:"image:///static/imgs/echarts/check.png",onclick:function(){s.changeMapType()}},saveAsImage:{title:"保存",name:s.getImgName(),icon:"image:///static/imgs/echarts/download.png"},myToggleBar:{show:!0,title:"柱形图",icon:"image:///static/imgs/echarts/bar.png",onclick:function(){n("bar")}},myToggleMap:"map"===s.type?{show:!0,title:"地图",icon:"image:///static/imgs/echarts/map.png",onclick:function(){n("map")}}:{},myMagnify:s.isOpen?{}:{show:!0,title:"全屏",icon:"image:///static/imgs/echarts/fullscreen.png",onclick:function(){i(s.eIndex)}}}},tooltip:{trigger:"item",formatter:"{b}<br/>数量：{c}<br/>占比：{d}%"},series:[{type:"pie",startAngle:180,label:{normal:{show:!0,position:"outside",formatter:"{b}{d}%"}},data:e}]}),c}(a,n,e,i,s,this);break;case"circle":this.myChart=function(a,t,e,n,i,s){if(e.length>10){var o=(e=window._.cloneDeep(e).reverse()).slice(0,10),r=0;e.forEach(function(a,t){t>9&&(r+=Number(a.value))}),o.push({name:"其他",value:r}),e=o.sort(function(a,t){return a.value-t.value}),t=[],e.forEach(function(a){t.push(a.name)})}var c=d.a.init(a,"yaozh_theme");return c.setOption({legend:{type:"scroll",bottom:0,data:t},toolbox:{right:"20",feature:{saveAsImage:{title:"保存",name:s.getImgName(),icon:"image:///static/imgs/echarts/download.png"},myToggleBar:{show:!0,title:"柱形图",icon:"image:///static/imgs/echarts/bar.png",onclick:function(){n("bar")}},myToggleMap:"map"===s.type?{show:!0,title:"地图",icon:"image:///static/imgs/echarts/map.png",onclick:function(){n("map")}}:{},myMagnify:s.isOpen?{}:{show:!0,title:"全屏",icon:"image:///static/imgs/echarts/fullscreen.png",onclick:function(){i(s.eIndex)}}}},tooltip:{trigger:"item",formatter:"{b}<br/>数量：{c}<br/>占比：{d}%"},series:[{type:"pie",radius:["40%","75%"],label:{normal:{show:!0,position:"outside",formatter:"{b}{d}%"}},labelLine:{normal:{show:!0}},data:e}]}),c}(a,n,e,i,s,this);break;case"bar":this.myChart=function(a,t,e,n,i,s){var o=d.a.init(a,"yaozh_theme");return o.setOption({tooltip:{position:function(a,t,e,n,i){return h.default.prototype.echartsTooltipPositionX(a,t,e,n,i)},trigger:"item",formatter:"{b}<br />数量: {c}"},toolbox:{right:"20",feature:{myToggleMapt:s.mapCheckLock||"map"!==s.type?{}:{show:!0,title:"切换",icon:"image:///static/imgs/echarts/check.png",onclick:function(){s.changeMapType()}},saveAsImage:{title:"保存",name:s.getImgName(),icon:"image:///static/imgs/echarts/download.png"},myTogglePie:s.seriesDataMap.length>0?{show:!0,title:"饼形图",icon:"image:///static/imgs/echarts/pie.png",onclick:function(){n("pie")}}:{},myToggleMap:"map"===s.type?{show:!0,title:"地图",icon:"image:///static/imgs/echarts/map.png",onclick:function(){n("map")}}:{},myMagnify:s.isOpen?{}:{show:!0,title:"全屏",icon:"image:///static/imgs/echarts/fullscreen.png",onclick:function(){i(s.eIndex)}}}},grid:{containLabel:!0},yAxis:{type:"category",axisLabel:{formatter:function(a){return a.length>12?a.substring(0,12)+"...":a}},data:t.length>11?t.slice(-11):t},xAxis:{type:"value",name:"数量"},series:[{data:e.length>11?e.slice(-11):e,type:"bar",label:{show:!0,position:"right"}}]}),o}(a,n,t,i,s,this);break;case"bars":this.myChart=function(a,t,e,n,i,s){var o=d.a.init(a,"yaozh_theme");return o.setOption({tooltip:{position:function(a,t,e,n,i){return h.default.prototype.echartsTooltipPositionX(a,t,e,n,i)},trigger:"axis"},legend:{show:!0,bottom:0,data:["进口","国产","上市数量"]},dataZoom:"上市趋势"===s.title?{type:"inside",show:!0,xAxisIndex:[0],start:0,end:100}:"",toolbox:{right:"20",feature:{saveAsImage:{title:"保存",name:s.getImgName(),icon:"image:///static/imgs/echarts/download.png"},myToggleLine:{show:!0,title:"线状图",icon:"image:///static/imgs/echarts/check.png",onclick:function(){n("line")}},myMagnify:s.isOpen?{}:{show:!0,title:"全屏",icon:"image:///static/imgs/echarts/fullscreen.png",onclick:function(){i(s.eIndex)}}}},grid:{containLabel:!0},yAxis:[{type:"value"}],xAxis:{type:"category",data:t,axisLabel:{show:!0,interval:0},axisTick:{show:!0,interval:0}},series:[{name:"进口",type:"bar",stack:"总量",z:10,label:{show:!0,position:"inside",distance:0,fontSize:12,padding:[0,0,0,0],borderRadius:100},data:e[2]},{name:"国产",type:"bar",stack:"总量",z:9,label:{show:!0,position:"inside",distance:0,fontSize:12,padding:[10,0,50,0],borderRadius:100},data:e[1]},{name:"上市数量",type:"bar",stack:"总量",label:{show:!0,position:"inside",distance:0,fontSize:12,padding:[0,0,70,0],borderRadius:100},z:8,data:e[0]}]}),o}(a,n,t,i,s,this)}},openDialog:function(a){this.$emit("openDialog",a),window.ga("send","event","button","click",p[a]+"quanping"),window._paq.push(["trackEvent","button","click",p[a]+"quanping"])},changeType:function(a){var t="";"bar"===a?t="zhuxingtu":"pie"===a&&(t="bingzhuangtu"),t&&(window.ga("send","event","button","click",p[this.eIndex]+t),window._paq.push(["trackEvent","button","click",p[this.eIndex]+t])),this.cType=a},changeMapType:function(){window.ga("send","event","button","click","cfdadrug_analy_diqu_qiehuan"),window._paq.push(["trackEvent","button","click","cfdadrug_analy_diqu_qiehuan"]);var a="world"===this.mapType?"china":"world";this.$emit("changeMapType",a)},echartsResizeHandler:function(){this.isOpen&&this.$parent.initLayout&&this.$parent.initLayout(),this.myChart&&this.myChart.resize()}},created:function(){this.cType=this.type},mounted:function(){window.addEventListener("resize",this.echartsResizeHandler)},activated:function(){this.echartsResizeHandler()}},u={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"chart-wrapper"},[a.loading?e("LoadingGif",{attrs:{className:"chart-loading",loadFlag:a.loading,delayTime:0}}):a.isNoAtc?e("div",{staticClass:"nodata-box-atc"}):a.seriesData.length>0?e("div",{ref:"chart",staticStyle:{height:"100%"}}):a._e(),a._v(" "),a.loaded&&0===a.seriesData.length?e("div",{staticClass:"nodata-box"}):a._e()],1)},staticRenderFns:[]};var m=e("C7Lr")(g,u,!1,function(a){e("GODW")},"data-v-114b5d21",null).exports,f=e("bSIt"),b=["yaopingpaihang","qiyepaihang","shangshiqushi","guojia","zhiliaolinyu","xinji","yb","yaopingleibie"],y={components:{DbEcharts:c.a,MyChart:m,LoadingGif:r.a},data:function(){return{itemWidth:700,mapType:"world",promise:null,loading:!0,dialogVisible:!1,initopen:!1,openIndex:0,basic:{pizhunwenhao_count:"",yaopinmingzi_count:"",guifanjixing_count:"",yaopinmingzi_guige_count:"",qiyemingzi_count:"",nianfen_count:"",guojia_count:""},qiyepaihang:{yAxisData:[],seriesData:[],loading:!1},yaopingpaihang:{yAxisData:[],seriesData:[],loading:!1},shangshiqushi:{yAxisData:[],seriesData:[],loading:!1},guojia:{yAxisData:[],seriesData:[],seriesDataMap:[],loading:!1},world:{yAxisData:[],seriesData:[],seriesDataMap:[],loading:!1},xinji:{yAxisData:[],seriesData:[],seriesDataMap:[],loading:!1},yaopingleibie:{yAxisData:[],seriesData:[],seriesDataMap:[],loading:!1},yb:{yAxisData:[],seriesData:[],seriesDataMap:[],loading:!1},zhiliaolinyu:{yAxisData:[],seriesData:[],seriesDataMap:[],loading:!1},mapCheckLock:!1}},computed:o()({},Object(f.b)({kshRes:function(a){return a.CfdaDrug.kshRes},nopms:function(a){return a.CfdaDrug.nopms},analyLoading:function(a){return a.CfdaDrug.analyLoading},analyCount:function(a){return a.CfdaDrug.analyCount},allBase:function(a){return a.CfdaDrug.allBase},activeTabName:function(a){return a.CfdaDrug.tabname},res1:function(a){return a.CfdaDrug.res1},res2:function(a){return a.CfdaDrug.res2},res3:function(a){return a.CfdaDrug.res3}}),{noData:function(){return!this.res1.res&&!this.res2.res&&!this.res3.res},chartsArr:function(){return[{title:"药品排行",type:"bar",data:this.yaopingpaihang},{title:"企业排行",type:"bar",data:this.qiyepaihang},{title:"上市地区和进口国家",type:"map",data:"world"!==this.mapType?this.guojia:this.world},{title:"ATC分类",type:"bar",data:this.zhiliaolinyu},{title:"剂型",type:"bar",data:this.xinji},{title:"医保分类",type:"pie",data:this.yb},{title:"药品类别",type:"pie",data:this.yaopingleibie}]}}),watch:{dialogVisible:function(){var a=this;this.dialogVisible&&this.$nextTick(function(){a.initLayout(),a.$refs.myChart.forEach(function(a){a.myChart&&a.myChart.resize()})})},$route:{handler:function(a){if("/cfdadrug/analy"===a.path&&this.kshRes&&(this.getAllKshRes(),this.$store.commit("CfdaDrug/kshRes",!1)),"/cfdadrug/analy"===this.$route.path?window.addEventListener("resize",this.echartsResizeHandler):window.removeEventListener("resize",this.echartsResizeHandler),"/cfdadrug/list"===this.$route.path){var t=this.activeTabName;Store.commit("CfdaDrug/tabname",""),Store.commit("CfdaDrug/tabname",t),this.noData&&Store.dispatch("CfdaDrug/nomalSearch",{queryToPutong:!1,tabs:!0})}},deep:!0},kshRes:{handler:function(a){a&&"/cfdadrug/analy"===this.$route.path&&(this.getAllKshRes(),this.$store.commit("CfdaDrug/kshRes",!1))},immediate:!0,deep:!0}},methods:{initLayout:function(){var a=window.innerWidth,t=window.innerHeight;this.itemWidth=a-244,$(".dialog .echarts-items-wap").css("height",t-50),$(".dialog .echarts-items-wap").css("width",a-244),$(".dialog .echarts-items").width(10*(this.itemWidth+12)),$(".dialog .echarts-item").width(this.itemWidth-100),$(".echarts-items").css("margin-left",-this.openIndex*this.itemWidth)},handleOpenIndex:function(a){a>0&&a<this.chartsArr.length?this.openIndex=a:this.openIndex=0,$(".echarts-items").css("margin-left",-this.openIndex*this.itemWidth)},getAllKshRes:function(){var a=this;this.$store.dispatch("CfdaDrug/getKshResMethods").then(function(t){a.basic=t.BasicCount,a.getKsh(0)})},getKsh:function(a){var t=this,e=b[a];this[e].loading=!0,this.$store.dispatch("CfdaDrug/getKshResMethods",{count_type:e}).then(function(n){if(t[e].loading=!1,a!==b.length-1&&t.getKsh(a+1),"shangshiqushi"===e)t[e]=t.getLineData(n[e]);else if("yaopingpaihang"===e)t[e]=t.getBarData(n[e],"yaopinmingzi","yaopinmingzi_count");else if("qiyepaihang"===e)t[e]=t.getBarData(n[e],"qiye","num");else{var i={};switch(e){case"guojia":i=["guojia","guojia_count"];break;case"yb":i=["yblb","yblb_count"];break;case"yaopingleibie":i=["yaopingleibie","yaopingleibie_count"];break;case"xinji":i=["guifanjixing","guifanjixing_count"];break;case"zhiliaolinyu":i=["name","num"]}if("guojia"===e){t.world=t.getPieData(n[e].jk,i[0],i[1]),t.guojia=t.getPieData(n[e].gc,i[0],i[1]),0===t.world.seriesData.length&&(t.mapType="china");try{t.mapCheckLock=0===n[e].jk.length||0===n[e].gc.length}catch(a){t.mapCheckLock=!1}}else t[e]=t.getPieData(n[e],i[0],i[1])}})},changeMapType:function(a){this.mapType=a},getLineData:function(a){var t=[],e=a instanceof Array?[]:[[],[],[]];return i()(a).forEach(function(n){t.push(n),e[0].push(a[n].total),e[1].push(a[n].gc),e[2].push(a[n].jk)}),{seriesData:e,yAxisData:t}},handleDialogVisible:function(a){this.dialogVisible=!0,this.openIndex=a},getBarData:function(a,t,e){a.sort(function(a,t){return a[e]-t[e]});var n=[],i=[];return a.forEach(function(a){n.push(a[e]),i.push(a[t])}),{seriesData:n,yAxisData:i}},getPieData:function(a,t,e){(a=a||[]).sort(function(a,t){return a[e]-t[e]});var n=[],i=[],s=a.map(function(a){return n.push(a[e]),i.push(a[t]),a.value=a[e],a.name=a[t],a});return{seriesData:n,yAxisData:i,seriesDataMap:s}}},created:function(){var a=this;setTimeout(function(){var t=sessionStorage.getItem("hashLocation");window._paq.push(["setCustomUrl","https://"+t]),window._paq.push(["trackPageView",a.allBase.dbname]),window._paq.push(["setDocumentTitle",a.allBase.dbname])},1e3)},activated:function(){this.vueRouteToNoPms(this.nopms.ksh)},updated:function(){this.vueRouteToNoPms(this.nopms.ksh),this.vueTogglePmsTooltip()}},v={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"analy-wrapeer"},[a.analyLoading?e("LoadingGif",{attrs:{loadFlag:a.analyLoading}}):a._e(),a._v(" "),e("div",{staticClass:"chart"},[e("div",{staticClass:"chart_top"},[e("div",{staticClass:"newtotals"},[e("div",{staticClass:"newtotals-scroll"},[a.analyLoading?a._e():e("div",{staticClass:"newtotals-scroll-inner"},[e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("上市数量")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.pizhunwenhao_count))]),a._v("个")])]),a._v(" "),e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("上市品种")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.yaopinmingzi_count))]),a._v("个")])]),a._v(" "),e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("剂型")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.guifanjixing_count))]),a._v("个")])]),a._v(" "),e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("药品品规")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.yaopinmingzi_guige_count))]),a._v("个")])]),a._v(" "),e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("上市企业")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.qiyemingzi_count))]),a._v("个")])]),a._v(" "),e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("上市年份")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.nianfen_count))]),a._v("个")])]),a._v(" "),e("ul",{staticClass:"total-item"},[e("li",{staticClass:"li1"},[a._v("上市地区和进口国家")]),a._v(" "),e("li",{staticClass:"li2"},[a._v("总计"),e("span",[a._v(a._s(a.basic.guojia_count))]),a._v("个")])])])])])]),a._v(" "),e("div",{staticClass:"back-list"},[e("router-link",{attrs:{to:"/cfdadrug"}},[a._v("返回列表")])],1),a._v(" "),e("div",{staticClass:"chart_bottom"},[e("div",{staticClass:"chart-boxes"},a._l(a.chartsArr,function(t,n){return e("DbEcharts",{key:t.title,attrs:{title:t.title}},[e("div",{staticClass:"echarts"},[e("my-chart",{attrs:{type:t.type,title:t.title,eIndex:n,mapCheckLock:a.mapCheckLock,mapType:a.mapType,isOpen:a.dialogVisible,seriesData:t.data.seriesData,seriesDataMap:t.data.seriesDataMap?t.data.seriesDataMap:[],yAxisData:t.data.yAxisData?t.data.yAxisData:[],loading:!!t.data.loading&&t.data.loading},on:{openDialog:a.handleDialogVisible,changeMapType:a.changeMapType}})],1)])}),1)]),a._v(" "),a.dialogVisible?e("div",{staticClass:"dialog"},[e("div",{staticClass:"menu"},a._l(a.chartsArr,function(t,n){return e("div",{key:n,class:[n==a.openIndex?"active":"","nav"],on:{click:function(t){return a.handleOpenIndex(n)}}},[a._v("\n          "+a._s(t.title)+"\n        ")])}),0),a._v(" "),e("div",{staticClass:"echarts-items-wap"},[e("div",{staticClass:"echarts-items-title"},[e("span",{staticClass:"echart-title"},[a._v(a._s(a.chartsArr[a.openIndex].title))]),a._v(" "),e("a",{staticClass:"esc-btn",attrs:{href:"javascript:;"},on:{click:function(t){a.dialogVisible=!1}}},[e("i"),e("img",{attrs:{src:"/static/imgs/echarts/esc-fullscreen.png",alt:"退出全屏"}})])]),a._v(" "),e("div",{staticClass:"echarts-items"},a._l(a.chartsArr,function(t){return e("div",{key:t.title,staticClass:"echarts-item"},[e("div",{staticClass:"open-charts"},[e("my-chart",{ref:"myChart",refInFor:!0,attrs:{title:t.title,type:t.type,mapCheckLock:a.mapCheckLock,mapType:a.mapType,seriesData:t.data.seriesData,isOpen:a.dialogVisible,seriesDataMap:t.data.seriesDataMap?t.data.seriesDataMap:[],yAxisData:t.data.yAxisData?t.data.yAxisData:[],loading:!!t.data.loading&&t.data.loading},on:{openDialog:a.handleDialogVisible,changeMapType:a.changeMapType}})],1)])}),0),a._v(" "),e("div",{staticClass:"ctr-actions"},[e("el-button",{staticClass:"pre action",on:{click:function(t){return a.handleOpenIndex(a.openIndex-1)}}},[e("i",{staticClass:"el-icon-arrow-left"})]),a._v(" "),e("el-button",{staticClass:"next action",on:{click:function(t){return a.handleOpenIndex(a.openIndex+1)}}},[e("i",{staticClass:"el-icon-arrow-right"})])],1),a._v(" "),a._m(0)])]):a._e()])],1)},staticRenderFns:[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"nodata-box fullcharts hide"},[t("div",{staticClass:"nodata-box"})])}]};var x=e("C7Lr")(y,v,!1,function(a){e("ObPF")},"data-v-d45db1ea",null);t.default=x.exports}});