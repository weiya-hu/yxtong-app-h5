webpackJsonp([48],{"/Vlv":function(e,n,t){(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.la-list {\n  background-color: #fff;\n}\n.el-tabs__header {\n  padding-left: 14px;\n  margin: 0px;\n}\n.el-tabs__content {\n  overflow: visible;\n}\n.el-tabs__active-bar {\n  height: 3px;\n  border-radius: 5px;\n}\n.el-tabs__item {\n  padding: 0 14px;\n}\n",""])},"/kFO":function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("4YfN"),i=t.n(a),o=t("NZk2"),r=t("tF2W"),s=t("bSIt"),l=t("NAxV"),p=t("PKHo"),d=t("cg4i"),c={components:{List:r.a,Export:o.a,listCheck:l.a},mixins:[p.a,d.a],data:function(){return{activeTabName:"first",vuex_name:"Shengwuzhipin",defaultFiled:[],filedVisible:!1,exportDefaultFiled:[],tableHead:[],checkallShow:[],show_table:!0,ElTableData:null,changeStyle:"",tableHeight:document.documentElement.clientHeight-48-60-60-50-88}},computed:i()({},Object(s.b)({tableconf:function(e){return e.Shengwuzhipin.tableconf},allBase:function(e){return e.Shengwuzhipin.allBase},res1:function(e){return _.keys(e.Shengwuzhipin.res1).length?e.Shengwuzhipin.res1.res:[]},errocode:function(e){return e.Shengwuzhipin.error},listLoading:function(e){return e.Shengwuzhipin.listLoading},params:function(e){return e.Shengwuzhipin.putong},words:function(e){return e.Shengwuzhipin.gaoji},group:function(e){return e.Shengwuzhipin.shaixuan},extendCount:function(e){return e.Shengwuzhipin.extendCount},nopms:function(e){return e.Shengwuzhipin.nopms},param:function(e){return e.Shengwuzhipin.slh_param},order:function(e){return e.Shengwuzhipin.order}})),mounted:function(){},methods:{getPositonRight:function(e,n){return e&&!n?-42:!e&&n?-40:e&&n?-58:-25},sendGa:function(){this.nopms&&!this.nopms.ksh&&(window.ga("send","event","tab","click","pqf_analy"),window._paq.push(["trackEvent","tab","click","pqf_analy"]),this.$router.push({path:"/pqf/analy"}))},init:function(){this.tableHead=this.defaultFiled.reduce(function(e,n){return n.checked&&e.push(n),e},[])},handleCurrentChange:function(e){this.param.page=e,e*this.param.pageSize<=1500?($(".out-of-page").hide(),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleSizeChange:function(e){this.param.page=1,this.param.pageSize=e,e*this.param.page<=1500?($(".out-of-page").hide(),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})):$(".out-of-page").show()}},created:function(){},updated:function(){this.vueTogglePmsTooltip()},activated:function(){this.registerEven()},watch:{checkedFiled:function(){var e=this;this.tableHead=[],this.defaultFiled=_.map(defaultFiled,function(n){return-1!=e.checkedFiled.indexOf(n.prop)?(n.checked=!0,e.tableHead.push(n)):n.checked=!1,n})},res1:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0},tableHead:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0},tableconf:function(e){e.forEach(function(e){e.checked=void 0===e.hidden,e.prop=e.field}),this.defaultFiled=this.tableheaderCombain(e,e),this.exportDefaultFiled=this.defaultFiled,this.init()}}},h={render:function(){var e=this,n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"la-slh"},[a("List",{attrs:{loading:n.listLoading,nodata:n.res1&&!n.res1.length}},[a("div",{staticClass:"actions"},[a("span",{staticClass:"action-btn",class:{"abandon-click-method":n.nopms&&n.nopms.ksh},on:{click:n.sendGa}},[a("span",{staticClass:"icon iconfont"},[n._v("")]),n._v("\n        智能分析\n      ")]),n._v(" "),a("list-check",{attrs:{defaultFiled:n.defaultFiled,vuex_name:"Shengwuzhipin",showArray:n.tableHead},on:{changeTableHeader:function(t){return n.changeTableHeader(e,t)}}}),n._v(" "),a("Export",{attrs:{out_max:n.allBase.out_max,vuex_name:"Shengwuzhipin",api_name:"pqf",max_num:n.extendCount.listCount,defaultFiled:n.exportDefaultFiled,outdataAction:"base"}})],1),n._v(" "),n.show_table?a("el-table",{ref:"ElTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{height:n.tableHeight,data:n.res1,stripe:"",fixed:"","default-sort":n.order.base?n.defaultSort(n.order.base):{}},on:{"sort-change":n.sortChange}},n._l(n.tableHead,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,"min-width":e.field_width||e.width||100,sortable:e.sort,fixed:"1"==e.is_fixed,label:e.label},scopedSlots:n._u([{key:"header",fn:function(t){return[a("span",[a("NewProjectGuide",{attrs:{postion:"列表",newPosition:{top:-5,right:n.getPositonRight(e.order,e.statement)},onlyKey:e.new_id,display:"inline",compoentsName:"字段",initItem:e,showMenban:e.is_show_new}},[n._v(n._s(e.label))])],1),n._v(" "),e.statement?a("el-tooltip",{attrs:{effect:"zhuce",placement:"right"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:n._s(e.statement)},slot:"content"}),n._v(" "),a("i",{staticClass:"el-icon-question cl-green",staticStyle:{"margin-left":"4px","line-height":"28px"}})]):n._e()]}},{key:"default",fn:function(t){return[a("div",{attrs:{title:t.row[e.prop]}},["pihao"===e.prop?a("div",[n.vueCheckListPms("Shengwuzhipin",e.label)?a("span",[a("a",{staticClass:"cl-blue",attrs:{href:"/pqf/"+t.row.id,target:"_blank"}},[n._v(n._s(t.row.pihao))])]):a("span",{staticClass:"abandon-click-method"},[n._v("暂无权限")])]):a("div",[n.vueCheckListPms("Shengwuzhipin",e.label)?a("span",[n._v(n._s(t.row[e.prop]))]):a("span",{staticClass:"abandon-click-method"},[n._v("暂无权限")])])])]}}],null,!0)})}),1):n._e(),n._v(" "),a("div",{staticStyle:{positon:"relative"}},[n.extendCount.listCount?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":n.param.page,"page-sizes":[20,30,50],"page-size":n.param.pageSize,layout:"total, sizes, prev, pager, next",total:n.extendCount.listCount,disabled:n.nopms.fy},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e(),n._v(" "),a("span",{staticClass:"out-of-page cl-red"},[n._v("限于内容篇幅，部分结果未予显示")])],1)],1)],1)},staticRenderFns:[]};var u=t("C7Lr")(c,h,!1,function(e){t("PJfC")},null,null).exports,g=t("aA9S"),f=t.n(g),m=t("ZLEe"),x=t.n(m),b=t("HzJ8"),w=t.n(b),v=t("ZJ3O"),C=t("nYX6"),y=C.a.shengwuzhipin.ypmc,z=C.a.shengwuzhipin.ypmcExpand,S={components:{LoadingGif:v.a,List:r.a,Export:o.a,listCheck:l.a},mixins:[p.a,d.a],data:function(){return{show_table_column:!0,scope:"",defaultFiled:y,expandFiled:z,filedVisible:!1,tableHead:[],checkallShow:[],show_table:!0,getRowKeys:function(e){return e.id},expandParams:{name:"",pageSize:20,page:1},expands:{expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"},expandsLoading:!0,ElTableData:null,changeStyle:"",tableHeight:document.documentElement.clientHeight-48-60-60-50-88}},computed:i()({},Object(s.b)({tableconf:function(e){return e.Shengwuzhipin.tableconf},allBase:function(e){return e.Shengwuzhipin.allBase},nopms:function(e){return e.Shengwuzhipin.nopms},res2:function(e){return e.Shengwuzhipin.res2},errocode:function(e){return e.Shengwuzhipin.error},listLoading:function(e){return e.Shengwuzhipin.listLoading},params:function(e){return e.Shengwuzhipin.putong},words:function(e){return e.Shengwuzhipin.gaoji},group:function(e){return e.Shengwuzhipin.shaixuan},extendCount:function(e){return e.Shengwuzhipin.extendCount},param:function(e){return e.Shengwuzhipin.ypmc_param},search_api_param:function(e){return e.Shengwuzhipin.search_api_param},order:function(e){return e.Shengwuzhipin.order}}),{exportDefaultFiled:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var i,o=w()(y);!(n=(i=o.next()).done);n=!0){var r=i.value;e.push(r)}}catch(e){t=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(t)throw a}}return e}}),mounted:function(){},methods:{showAnaly:function(e){this.$store.commit("Shengwuzhipin/dlfx_nowNav","检品分析"),this.$store.commit("Shengwuzhipin/dlfx_searchValYp",e),this.$store.commit("Shengwuzhipin/dlfx_searchListYp",[{label:e,value:e}])},openDetail:function(e){var n=this;return"/api/pqf/mxbboutdata?name="+encodeURIComponent(e.row.name)+x()(this.search_api_param).reduce(function(e,t){return(e+="&"+t+"="+encodeURIComponent(n.search_api_param[t]))&&e},"")+"&accesstoken="+GETCOOKIEFUN("accesstoken")},init:function(){this.tableHead=this.defaultFiled.reduce(function(e,n){return n.checked&&e.push(n),e},[])},handleCurrentChange:function(e){this.param.page=e,e*this.param.pageSize<=1500?($(".out-of-page").hide(),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleSizeChange:function(e){this.param.page=1,this.param.pageSize=e,e*this.param.page<=1500?($(".out-of-page").hide(),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleRequest:function(e,n){var t=this;Store.dispatch("Shengwuzhipin/getGroupRes",{path:"/api/pqf/byname",params:this.expandParams}).then(function(a){t.expandsLoading=!1,404==a.data.code?t.expands.erroCode="404":200==a.data.code&&(t.expands.erroCode="200",a.data.data.order=n,t.$set(e.row.second,[t.scope],a.data.data),$(".el-table").addClass("el-table--scrollable-y"))}).catch(function(e){t.expandsLoading=!1,t.expands.erroCode="500"})},expandCurrentChange:function(e,n){this.expandParams.page=e,this.expandParams.order=n.row.second[this.scope].order,this.handleRequest(n,n.row.second[this.scope].order)},sortChange:function(e,n,t){var a=void 0;e.prop&&(a=e.prop+" "+("descending"==e.order?"desc":"asc")),this.param.order=a,Store.commit("Shengwuzhipin/order",f()({},this.$store.state.Shengwuzhipin.order,{name:a||null})),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})},expandSortChange:function(e,n){e.column;var t=e.prop,a=e.order,i=void 0;t&&(i="ascending"==a?t+" asc":"descending"==a?t+" desc":""),this.expandParams.order=i,this.expandParams.page=n.row.second[this.scope].page?n.row.second[this.scope].page:1,this.handleRequest(n,i)},getExpandRes:function(e,n){window.ga("send","event","tab","click",this.allBase.dbename+"_byjianpin_"+e),window._paq.push(["trackEvent","tab","click",this.allBase.dbename+"_byjianpin_"+e]),this.expandParams.name=e,this.scope=n.column.property,n.row.second[this.scope]?this.$set(n.row.second,[this.scope],n.row.second[this.scope]):(this.$delete(this.expandParams,"order"),this.expandParams.page=1,this.expandsLoading=!0,this.handleRequest(n))},toggleRowExpansion:function(e,n,t,a){var i=this;if("td"!==a.target.localName&&"cell"!==a.target.className&&"name"==n.property){var o=!1,r=($(t).index(),$(t).parent().index());this.expands.old_row>=0&&this.expands.old_row==r&&(o=!0),this.expands.old_row=r;var s=$(t);this.expands.element||(this.expands.element=s),this.expands.expandsrow=[],n.id==this.expands.expanCell&&o?(s.hasClass("active")?this.expands.element.removeClass("active"):this.expands.element.addClass("active"),this.expands.expanCell=""):(this.expands.expanCell=n.id,this.expands.expandsrow.push(e.id),this.expands.element.removeClass("active"),s.addClass("active"),this.expands.element=s),this.show_table_column=!1,setTimeout(function(){i.show_table_column=!0},0)}}},created:function(){this.init()},activated:function(){this.registerEven()},watch:{checkedFiled:function(){var e=this;this.tableHead=[],this.defaultFiled=_.map(y,function(n){return-1!=e.checkedFiled.indexOf(n.prop)?(n.checked=!0,e.tableHead.push(n)):n.checked=!1,n})},res2:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()}),this.expands={expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"}},immediate:!0},tableHead:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0}}},k={render:function(){var e=this,n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"la-ypmc"},[a("List",{attrs:{loading:n.listLoading,nodata:n.res2&&!n.res2.length}},[a("div",{staticClass:"actions"},[a("list-check",{attrs:{defaultFiled:n.defaultFiled,vuex_name:"Shengwuzhipin",showArray:n.tableHead},on:{changeTableHeader:function(t){return n.changeTableHeader(e,t)}}}),n._v(" "),a("Export",{attrs:{out_max:n.allBase.out_max,vuex_name:"Shengwuzhipin",api_name:"pqf",max_num:n.extendCount.nameCount,defaultFiled:n.exportDefaultFiled,outdataAction:"name"}})],1),n._v(" "),n.show_table?a("el-table",{ref:"ElTable",staticClass:"table extensible-table",staticStyle:{width:"100%"},attrs:{height:n.tableHeight,data:n.res2,stripe:"",fixed:"","row-key":n.getRowKeys,"expand-row-keys":n.expands.expandsrow,"default-sort":n.order.name?n.defaultSort(n.order.name):{}},on:{"sort-change":n.sortChange,"cell-click":n.toggleRowExpansion}},[a("el-table-column",{attrs:{type:"expand",width:"1"},scopedSlots:n._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-expand",attrs:{type:"expand"}},[n.expandsLoading?a("LoadingGif",{attrs:{className:"list-in-loading",classNameImg:"little-size-loading",loadFlag:n.expandsLoading}}):n.show_table_column?a("div",[a("el-table",{ref:"expandtable",staticClass:"expand-table",staticStyle:{width:"100%"},attrs:{data:e.row.second[n.scope]&&e.row.second[n.scope].res,fixed:"","default-sort":e.row.second[n.scope]&&e.row.second[n.scope].order?n.defaultSort(e.row.second[n.scope].order):{}},on:{"sort-change":function(t){return n.expandSortChange(t,e)}}},n._l(n.expandFiled,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,sortable:e.sort,"min-width":e.width||100,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return["pihao"===e.prop?a("div",{attrs:{title:t.row.pihao}},[a("a",{staticClass:"cl-blue",attrs:{href:"/pqf/"+t.row.id,target:"_blank"}},[n._v(n._s(t.row.pihao))])]):n._e(),n._v(" "),"guige"===e.prop?a("div",{attrs:{title:t.row.guige}},[n._v("\n                    "+n._s(t.row.guige)+"\n                  ")]):n._e(),n._v(" "),"piliang"===e.prop?a("div",{attrs:{title:t.row.piliang}},[n._v("\n                    "+n._s(t.row.piliang)+"\n                  ")]):n._e(),n._v(" "),"packaging"===e.prop?a("div",{attrs:{title:t.row.packaging}},[n._v("\n                    "+n._s(t.row.packaging)+"\n                  ")]):n._e(),n._v(" "),"caijiqiye"===e.prop?a("div",{attrs:{title:t.row.caijiqiye}},[n._v("\n                    "+n._s(t.row.caijiqiye)+"\n                  ")]):n._e(),n._v(" "),"date"===e.prop?a("div",{attrs:{title:t.row.date}},[n._v("\n                    "+n._s(t.row.date)+"\n                  ")]):n._e(),n._v(" "),"youxiaoqi"===e.prop?a("div",{attrs:{title:t.row.youxiaoqi}},[n._v("\n                    "+n._s(t.row.youxiaoqi)+"\n                  ")]):n._e()]}}],null,!0)})}),1),n._v(" "),e.row.second[n.scope]&&e.row.second[n.scope].count>20?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":e.row.second[n.scope]&&e.row.second[n.scope].page,"page-size":20,layout:"prev, next",total:e.row.second[n.scope]&&e.row.second[n.scope].count,disabled:n.nopms.fy},on:{"current-change":function(t){return n.expandCurrentChange(t,e)}}}):n._e()],1):n._e()],1)}}],null,!1,768396636)}),n._v(" "),n._l(n.tableHead,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,sortable:e.sort,"min-width":e.field_width||100,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return["name"===e.prop?a("div",{staticClass:"extensible-td cl-blue",attrs:{title:t.row.name},on:{click:function(e){return n.getExpandRes(t.row.name,t)}}},[n._v("\n            "+n._s(t.row.name)+"\n          ")]):n._e(),n._v(" "),"piliang"===e.prop?a("div",{attrs:{title:t.row.piliang}},[n._v("\n            "+n._s(t.row.piliang)+"\n          ")]):n._e(),n._v(" "),"guige"===e.prop?a("div",{attrs:{title:t.row.guige}},[n._v("\n            "+n._s(t.row.guige)+"\n          ")]):n._e(),n._v(" "),"qiye"===e.prop?a("div",{attrs:{title:t.row.qiye}},[n._v("\n            "+n._s(t.row.qiye)+"\n          ")]):n._e(),n._v(" "),"xsmx"===e.prop?a("div",{attrs:{title:t.row.xsmx}},[a("a",{staticClass:"cl-blue",attrs:{href:n.openDetail(t),target:"_blank"}},[n._v("明细报表")])]):n._e(),n._v(" "),"ypfx"===e.prop?a("div",[a("a",{staticClass:"cl-blue",attrs:{href:"javascript:void(0);"},on:{click:function(e){return n.showAnaly(t.row.name)}}},[n._v("药品分析")])]):n._e()]}}],null,!0)})})],2):n._e(),n._v(" "),a("div",{staticStyle:{positon:"relative"}},[n.extendCount.nameCount?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":n.param.page,"page-sizes":[20,30,50],"page-size":20,layout:"total, sizes, prev, pager, next",total:n.extendCount.nameCount,disabled:n.nopms.fy},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e(),n._v(" "),a("span",{staticClass:"out-of-page cl-red"},[n._v("限于内容篇幅，部分结果未予显示")])],1)],1)],1)},staticRenderFns:[]};var F=t("C7Lr")(S,k,!1,function(e){t("eGFE")},null,null).exports,q=C.a.shengwuzhipin.qy,E=C.a.shengwuzhipin.qyExpand,L={components:{LoadingGif:v.a,List:r.a,Export:o.a,listCheck:l.a},mixins:[p.a,d.a],data:function(){return{show_table_column:!0,scope:"",defaultFiled:q,expandFiled:E,filedVisible:!1,tableHead:[],checkallShow:[],show_table:!0,getRowKeys:function(e){return e.id},expandParams:{qiye:"",pageSize:20,page:1},expands:{expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"},expandsLoading:!0,ElTableData:null,changeStyle:"",tableHeight:document.documentElement.clientHeight-48-60-60-50-88}},computed:i()({},Object(s.b)({tableconf:function(e){return e.Shengwuzhipin.tableconf},allBase:function(e){return e.Shengwuzhipin.allBase},nopms:function(e){return e.Shengwuzhipin.nopms},res:function(e){return e.Shengwuzhipin.res3},errocode:function(e){return e.Shengwuzhipin.error},listLoading:function(e){return e.Shengwuzhipin.listLoading},params:function(e){return e.Shengwuzhipin.putong},words:function(e){return e.Shengwuzhipin.gaoji},group:function(e){return e.Shengwuzhipin.shaixuan},extendCount:function(e){return e.Shengwuzhipin.extendCount},search_api_param:function(e){return e.Shengwuzhipin.search_api_param},param:function(e){return e.Shengwuzhipin.qy_param},order:function(e){return e.Shengwuzhipin.order}}),{exportDefaultFiled:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var i,o=w()(q);!(n=(i=o.next()).done);n=!0){var r=i.value;e.push(r)}}catch(e){t=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(t)throw a}}return e}}),mounted:function(){},methods:{showAnaly:function(e){this.$store.commit("Shengwuzhipin/dlfx_nowNav","企业分析"),this.$store.commit("Shengwuzhipin/dlfx_searchValQy",e),this.$store.commit("Shengwuzhipin/dlfx_searchListQy",[{label:e,value:e}])},openSaleDetail:function(e){var n=this;return"/api/pqf/mxbboutdata?qiye="+encodeURIComponent(e.row.qiye)+x()(this.search_api_param).reduce(function(e,t){return(e+="&"+t+"="+encodeURIComponent(n.search_api_param[t]))&&e},"")+"&accesstoken="+GETCOOKIEFUN("accesstoken")},init:function(){this.tableHead=this.defaultFiled.reduce(function(e,n){return n.checked&&e.push(n),e},[])},handleCurrentChange:function(e){this.param.page=e,e*this.param.pageSize<=1500?($(".out-of-page").hide(),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleSizeChange:function(e){this.param.page=1,this.param.pageSize=e,e*this.param.page<=1500?($(".out-of-page").hide(),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleRequest:function(e,n){var t=this;Store.dispatch("Shengwuzhipin/getGroupRes",{path:"/api/pqf/byqiye",params:this.expandParams}).then(function(a){t.expandsLoading=!1,404==a.data.code?t.expands.erroCode="404":200==a.data.code&&(t.expands.erroCode="200",a.data.data.order=n,t.$set(e.row.second,[t.scope],a.data.data),$(".el-table").addClass("el-table--scrollable-y"))}).catch(function(e){t.expandsLoading=!1,t.expands.erroCode="500"})},expandCurrentChange:function(e,n){this.expandParams.page=e,this.expandParams.order=n.row.second[this.scope].order,this.handleRequest(n,n.row.second[this.scope].order)},sortChange:function(e,n,t){var a=void 0;e.prop&&(a=e.prop+" "+("descending"==e.order?"desc":"asc")),this.param.order=a,Store.commit("Shengwuzhipin/order",f()({},this.$store.state.Shengwuzhipin.order,{qiye:a||null})),Store.dispatch("Shengwuzhipin/nomalSearch",{params:this.param})},expandSortChange:function(e,n){e.column;var t=e.prop,a=e.order,i=void 0;t&&(i="ascending"==a?t+" asc":"descending"==a?t+" desc":""),this.expandParams.order=i,this.expandParams.page=n.row.second[this.scope].page?n.row.second[this.scope].page:1,this.handleRequest(n,i)},getExpandRes:function(e,n,t){window.ga("send","event","tab","click",this.allBase.dbename+"_byqiye_"+n),window._paq.push(["trackEvent","tab","click",this.allBase.dbename+"_byqiye_"+n]),this.expandParams.qiye=e,this.scope=t.column.property,t.row.second[this.scope]?this.$set(t.row.second,[this.scope],t.row.second[this.scope]):(this.$delete(this.expandParams,"order"),this.expandParams.page=1,this.expandsLoading=!0,this.handleRequest(t))},toggleRowExpansion:function(e,n,t,a){var i=this;if("td"!==a.target.localName&&"cell"!==a.target.className&&"qiye"==n.property){var o=!1,r=($(t).index(),$(t).parent().index());this.expands.old_row>=0&&this.expands.old_row==r&&(o=!0),this.expands.old_row=r;var s=$(a.srcElement).closest("td");this.expands.element||(this.expands.element=s),this.expands.expandsrow=[],n.id==this.expands.expanCell&&o?(s.hasClass("active")?this.expands.element.removeClass("active"):this.expands.element.addClass("active"),this.expands.expanCell=""):(this.expands.expanCell=n.id,this.expands.expandsrow.push(e.id),this.expands.element.removeClass("active"),s.addClass("active"),this.expands.element=s),this.show_table_column=!1,setTimeout(function(){i.show_table_column=!0},0)}}},created:function(){this.init()},activated:function(){this.registerEven()},watch:{checkedFiled:function(){var e=this;this.tableHead=[],this.defaultFiled=_.map(q,function(n){return-1!=e.checkedFiled.indexOf(n.prop)?(n.checked=!0,e.tableHead.push(n)):n.checked=!1,n})},res:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()}),this.expands={expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"}},immediate:!0},tableHead:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0}}},P={render:function(){var e=this,n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"la-qy"},[a("List",{attrs:{loading:n.listLoading,nodata:n.res&&!n.res.length}},[a("div",{staticClass:"actions"},[a("list-check",{attrs:{defaultFiled:n.defaultFiled,vuex_name:"Shengwuzhipin",showArray:n.tableHead},on:{changeTableHeader:function(t){return n.changeTableHeader(e,t)}}}),n._v(" "),a("Export",{attrs:{out_max:n.allBase.out_max,vuex_name:"Shengwuzhipin",api_name:"pqf",max_num:n.extendCount.qiyeCount,defaultFiled:n.exportDefaultFiled,outdataAction:"qiye"}})],1),n._v(" "),n.show_table?a("el-table",{ref:"ElTable",staticClass:"table extensible-table",staticStyle:{width:"100%"},attrs:{height:n.tableHeight,data:n.res,stripe:"",fixed:"","default-sort":n.order.qiye?n.defaultSort(n.order.qiye):{},"row-key":n.getRowKeys,"expand-row-keys":n.expands.expandsrow},on:{"sort-change":n.sortChange,"cell-click":n.toggleRowExpansion}},[a("el-table-column",{attrs:{type:"expand",width:"1"},scopedSlots:n._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-expand",attrs:{type:"expand"}},[n.expandsLoading?a("LoadingGif",{attrs:{className:"list-in-loading",classNameImg:"little-size-loading",loadFlag:n.expandsLoading}}):n.show_table_column?a("div",[a("el-table",{ref:"expandtable",staticStyle:{width:"100%"},attrs:{data:e.row.second[n.scope]&&e.row.second[n.scope].res,fixed:"","default-sort":e.row.second[n.scope]&&e.row.second[n.scope].order?n.defaultSort(e.row.second[n.scope].order):{}},on:{"sort-change":function(t){return n.expandSortChange(t,e)}}},n._l(n.expandFiled,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,sortable:e.sort,"min-width":e.field_width||100,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return["pihao"===e.prop?a("div",{attrs:{title:t.row.pihao}},[a("a",{staticClass:"cl-blue",attrs:{target:"_blank",href:"/pqf/"+t.row.id}},[n._v(n._s(t.row.pihao))])]):n._e(),n._v(" "),"name"===e.prop?a("div",{attrs:{title:t.row.name}},[n._v("\n                      "+n._s(t.row.name)+"\n                    ")]):n._e(),n._v(" "),"guige"===e.prop?a("div",{attrs:{title:t.row.guige}},[n._v("\n                      "+n._s(t.row.guige)+"\n                    ")]):n._e(),n._v(" "),"piliang"===e.prop?a("div",{attrs:{title:t.row.piliang}},[n._v("\n                      "+n._s(t.row.piliang)+"\n                    ")]):n._e(),n._v(" "),"packaging"===e.prop?a("div",{attrs:{title:t.row.packaging}},[n._v("\n                      "+n._s(t.row.packaging)+"\n                    ")]):n._e(),n._v(" "),"date"===e.prop?a("div",{attrs:{title:t.row.date}},[n._v("\n                      "+n._s(t.row.date)+"\n                    ")]):n._e(),n._v(" "),"youxiaoqi"===e.prop?a("div",{attrs:{title:t.row.youxiaoqi}},[n._v("\n                      "+n._s(t.row.youxiaoqi)+"\n                    ")]):n._e()]}}],null,!0)})}),1),n._v(" "),e.row.second[n.scope]&&e.row.second[n.scope].count>20?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":e.row.second[n.scope]&&e.row.second[n.scope].page,"page-size":20,layout:"prev, next",total:e.row.second[n.scope]&&e.row.second[n.scope].count,disabled:n.nopms.fy},on:{"current-change":function(t){return n.expandCurrentChange(t,e)}}}):n._e()],1):n._e()],1)}}],null,!1,649493919)}),n._v(" "),n._l(n.tableHead,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,"min-width":e.width||100,sortable:e.sort,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return["qiye"===e.prop?a("div",{staticClass:"extensible-td cl-blue",attrs:{title:t.row.qiye},on:{click:function(a){return n.getExpandRes(t.row.qiye,e.prop,t)}}},[n._v("\n              "+n._s(t.row.qiye)+"\n            ")]):n._e(),n._v(" "),"piliang"===e.prop?a("div",{attrs:{title:t.row.piliang}},[n._v("\n              "+n._s(t.row.piliang)+"\n            ")]):n._e(),n._v(" "),"name"===e.prop?a("div",{attrs:{title:t.row.name}},[n._v("\n              "+n._s(t.row.name)+"\n            ")]):n._e(),n._v(" "),"xsmx"===e.prop?a("div",{attrs:{title:t.row.xsmx}},[a("a",{staticClass:"cl-blue",attrs:{href:n.openSaleDetail(t),target:"_blank"}},[n._v("销售明细")])]):n._e(),n._v(" "),"qyfx"===e.prop?a("div",[a("a",{staticClass:"cl-blue",attrs:{href:"javascript:void(0);"},on:{click:function(e){return n.showAnaly(t.row.qiye)}}},[n._v("企业分析")])]):n._e()]}}],null,!0)})})],2):n._e(),n._v(" "),a("div",{staticStyle:{positon:"relative"}},[n.extendCount.qiyeCount?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":n.param.page,"page-sizes":[20,30,50],"page-size":20,layout:"total, sizes, prev, pager, next",total:n.extendCount.qiyeCount,disabled:n.nopms.fy},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e(),n._v(" "),a("span",{staticClass:"out-of-page cl-red"},[n._v("限于内容篇幅，部分结果未予显示")])],1)],1)],1)},staticRenderFns:[]};var B={components:{ListOne:u,ListTwo:F,ListThree:t("C7Lr")(L,P,!1,function(e){t("IcvF")},null,null).exports},data:function(){return{}},computed:i()({},Object(s.b)({activeTabName:function(e){return e.Shengwuzhipin.tabname},extendCount:function(e){return e.Shengwuzhipin.extendCount},res1:function(e){return e.Shengwuzhipin.res1},res2:function(e){return e.Shengwuzhipin.res2},res3:function(e){return e.Shengwuzhipin.res3},nopms:function(e){return e.Shengwuzhipin.nopms},allBase:function(e){return e.Shengwuzhipin.allBase}})),methods:{handleClickTag:function(e,n){window.ga("send","event","tab","click","pqf_"+e.name),window._paq.push(["trackEvent","tab","click","pqf_"+e.name]);var t="first"===e.name?"/api/pqf/":"/api/pqf/"+e.name;Store.commit("Shengwuzhipin/tabname",e.name),Store.commit("Shengwuzhipin/path",t),("first"===e.name&&!_.keys(this.res1.res).length||"listbyname"===e.name&&!_.keys(this.res2).length||"listbyqiye"===e.name&&!_.keys(this.res3).length)&&Store.dispatch("Shengwuzhipin/nomalSearch",{path:t,queryToPutong:!1})}},created:function(){var e=this;setTimeout(function(){var n=sessionStorage.getItem("hashLocation");window._paq.push(["setCustomUrl","https://"+n]),window._paq.push(["trackPageView",e.allBase.dbname]),window._paq.push(["setDocumentTitle",e.allBase.dbname])},1e3)}},T={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("el-tabs",{staticClass:"la-list",attrs:{value:e.activeTabName},on:{"tab-click":e.handleClickTag}},[t("el-tab-pane",{staticClass:"slh-pane",attrs:{label:e.getTabLabel("按发布时间浏览",e.extendCount.listCount),name:"first"}},[t("ListOne")],1),e._v(" "),t("el-tab-pane",{class:{"abandon-click-method":e.nopms.namegroup},attrs:{label:e.getTabLabel("按检品名称浏览",e.extendCount.nameCount),name:"listbyname",disabled:e.nopms.namegroup}},[t("ListTwo")],1),e._v(" "),t("el-tab-pane",{class:{"abandon-click-method":e.nopms.qiyegroup},attrs:{label:e.getTabLabel("按企业名称浏览",e.extendCount.qiyeCount),name:"listbyqiye",disabled:e.nopms.qiyegroup}},[t("ListThree")],1)],1)],1)},staticRenderFns:[]};var D=t("C7Lr")(B,T,!1,function(e){t("uUo1")},null,null);n.default=D.exports},"03PL":function(e,n,t){(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.la-slh {\n  min-height: 100px;\n}\n.la-slh .no-data-msg {\n  width: 100%;\n  text-align: center;\n  font-weight: bold;\n}\n.yxsp-icon {\n  display: inline-block;\n  font-size: 9px;\n  padding: 1px;\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #fff;\n  border-radius: 8px;\n  background: #90c320;\n}\n.zdzx-icon {\n  display: inline-block;\n  font-size: 9px;\n  padding: 1px;\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #fff;\n  border-radius: 8px;\n  background: #4877e8;\n}\n.tssp-icon {\n  display: inline-block;\n  font-size: 9px;\n  padding: 1px;\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #fff;\n  border-radius: 8px;\n  background: #f5a623;\n}\n.v-modal {\n  background: rgba(102, 102, 102, 0.4);\n}\n",""])},"0CFv":function(e,n,t){var a=t("L4zZ");(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.la-qy {\n  min-height: 100px;\n}\n.la-qy .no-data-msg {\n  width: 100%;\n  text-align: center;\n  font-weight: bold;\n}\n.extensible-table .extensible-td {\n  cursor: pointer;\n}\n.extensible-table .extensible-td:hover {\n  color: #4877e8;\n  text-decoration: underline;\n  font-weight: normal;\n}\n.extensible-table tr.el-table__row--striped td.active {\n  color: #4877e8;\n  font-weight: 600;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom #f5f8fb !important;\n  border: none;\n}\n.extensible-table td {\n  position: relative;\n}\n.extensible-table td .el-icon-caret-top {\n  font-size: 20px;\n  display: none;\n}\n.extensible-table td.active {\n  color: #4877e8;\n  font-weight: 600;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom;\n  border: none;\n}\n",""])},IcvF:function(e,n,t){var a=t("0CFv");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("283ee466",a,!0,{})},OORi:function(e,n,t){var a=t("L4zZ");(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.la-ypmc {\n  min-height: 100px;\n}\n.la-ypmc .no-data-msg {\n  width: 100%;\n  text-align: center;\n  font-weight: bold;\n}\n.extensible-table .extensible-td {\n  cursor: pointer;\n}\n.extensible-table .extensible-td:hover {\n  color: #4877e8;\n  text-decoration: underline;\n  font-weight: normal;\n}\n.extensible-table tr.el-table__row--striped td.active {\n  color: #4877e8;\n  font-weight: 600;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom #f5f8fb !important;\n  border: none;\n}\n.extensible-table td {\n  position: relative;\n}\n.extensible-table td .el-icon-caret-top {\n  font-size: 20px;\n  display: none;\n}\n.extensible-table td.active {\n  color: #4877e8;\n  font-weight: 600;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom;\n  border: none;\n}\n.extensible-table .expand-table th:first-child,\n.extensible-table .expand-table td:first-child {\n  padding-left: 30px;\n}\n",""])},PJfC:function(e,n,t){var a=t("03PL");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("b291f888",a,!0,{})},eGFE:function(e,n,t){var a=t("OORi");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("214d9c6f",a,!0,{})},uUo1:function(e,n,t){var a=t("/Vlv");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("29e02865",a,!0,{})}});