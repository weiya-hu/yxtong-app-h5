webpackJsonp([115],{GSnb:function(e,n,t){var a=t("aXZv");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("0d9e4662",a,!0,{})},aXZv:function(e,n,t){(e.exports=t("UTlt")(!1)).push([e.i,"\n.wq-main[data-v-c7277eba] {\n  padding: 44px 70px 95px;\n}\n.wq-main .title[data-v-c7277eba] {\n  text-align: center;\n  font-size: 26px;\n  color: #4877e8;\n  line-height: 22px;\n  margin-bottom: 40px;\n}\n[data-v-c7277eba] .el-row {\n  width: 100%;\n}\n[data-v-c7277eba] .el-radio-group {\n  display: block;\n}\n[data-v-c7277eba] .el-radio {\n  min-height: 30px;\n  font-size: 14px;\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n[data-v-c7277eba] .el-radio__inner {\n  width: 16px;\n  height: 16px;\n}\n[data-v-c7277eba] .el-checkbox__inner {\n  width: 16px;\n  height: 16px;\n}\n[data-v-c7277eba] .el-radio__input.is-checked .el-radio__inner {\n  background-color: #fff;\n}\n[data-v-c7277eba] .el-radio__input.is-checked .el-radio__inner::after {\n  background-color: #4877e8;\n  width: 8px;\n  height: 8px;\n}\n[data-v-c7277eba] .el-checkbox {\n  min-height: 30px;\n  font-size: 14px;\n  display: -webkit-inline-box;\n  display: -ms-inline-flexbox;\n  display: inline-flex;\n}\n[data-v-c7277eba] .el-checkbox__label {\n  line-height: 19px;\n  white-space: normal;\n  padding-left: 8px;\n  font-size: 14px;\n}\n[data-v-c7277eba] .el-radio__label {\n  line-height: 19px;\n  white-space: normal;\n  padding-left: 8px;\n  font-size: 14px;\n}\n[data-v-c7277eba] .el-textarea__inner {\n  margin-bottom: 5px;\n}\n[data-v-c7277eba] .el-form-item__label {\n  font-weight: bold;\n  color: #333;\n  font-size: 16px;\n  line-height: 22px;\n  padding-bottom: 16px;\n}\n[data-v-c7277eba] .el-form-item {\n  margin-bottom: 30px;\n}\n[data-v-c7277eba] .el-checkbox__input.is-checked .el-checkbox__inner {\n  background-color: #fff;\n}\n[data-v-c7277eba] .el-checkbox__input.is-checked .el-checkbox__inner::after {\n  border-color: #4877e8;\n  height: 9px;\n  width: 4px;\n  left: 5px;\n}\n[data-v-c7277eba] .el-form-item__content {\n  line-height: 30px;\n}\n.other-input[data-v-c7277eba] {\n  width: 100px;\n  border: none;\n  border-bottom: 1px solid #5f5b6d;\n}\n.selects[data-v-c7277eba] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.select-item[data-v-c7277eba] {\n  width: 25%;\n  position: relative;\n  padding: 0 10px;\n  margin-bottom: 8px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n@media only screen and (max-width: 768px) {\n.wq-main[data-v-c7277eba] {\n    padding: 24px;\n}\n.wq-main .title[data-v-c7277eba] {\n    font-size: 22px;\n}\n.select-item[data-v-c7277eba] {\n    width: 100%;\n}\n[data-v-c7277eba] .el-form-item__label {\n    font-size: 14px;\n}\n[data-v-c7277eba] .el-checkbox__label {\n    font-size: 12px;\n}\n[data-v-c7277eba] .el-radio__label {\n    font-size: 12px;\n}\n}\n",""])},bgfJ:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("4YfN"),i=t.n(a),o=t("3cXf"),l=t.n(o),s=t("84iU"),r=t.n(s),d=t("LirJ"),c=t.n(d),p={name:"qa",data:function(){return{form:{questions:[],name:"问卷标题"},rules:{},isloading:!0}},components:{LoadingGif:t("ZJ3O").a},methods:{changeHandler:function(e){},submit:function(){var e=this;this.$refs.wqform.validate(function(n){if(!n)return setTimeout(function(){document.querySelector(".el-form-item__error").scrollIntoView({block:"end"})},150),!1;var t=e.$route.params.token,a=e.$route.query.source||1,i=e.form.questions.map(function(e){var n=e.options.find(function(e){return e.is_blank})?e.options.find(function(e){return e.is_blank}).value:"";return{filed_id:e.id,answer:"checkbox"===e.type?e.value.join(","):e.value,blank:n&&e.value.includes(n)?e.extra:""}});r.a.post("/api/questionnaire/submit",{token:t,source:a,data:l()(i)}).then(function(n){200===n.data.code?e.$router.push("/qs/stoped?s=ok"):e.$message({message:n.data.msg||"提交失败！",type:"warning"})})})},getQustions:function(){var e=this,n=this.$route.params.token;r.a.get("/api/questionnaire/lists?token="+n).then(function(n){e.isloading=!1,200===n.data.code&&(e.form.questions=n.data.data.map(function(e){return i()({},e,{value:"checkbox"===e.type?[]:"",extra:""})}))})}},created:function(){var e=this,n=this.$route.params.token;r.a.get("/api/questionnaire/userInfo?token="+n).then(function(n){200===n.data.code?(n.data.data.is_answer&&e.$router.push("/qs/stoped?s=visited"),(n.data.data.vipendtime&&c.a.duration(c()(n.data.data.vipendtime).diff()).days()<-4||!n.data.data.vipendtime)&&e.$router.push("/qs/stoped"),e.form.name=n.data.data.title||"问卷标题"):e.$router.push("/qs/stoped")}),this.getQustions()}},u={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"wq-main"},[e.isloading?t("LoadingGif",{attrs:{className:"list-in-loading",classNameImg:"little-size-loading",loadFlag:e.isloading,delayTime:0}}):[t("h1",{staticClass:"title"},[e._v(e._s(e.form.name))]),e._v(" "),t("el-form",{ref:"wqform",attrs:{"label-position":"top",model:e.form}},[e._l(e.form.questions,function(n,a){return t("el-form-item",{key:a,attrs:{label:a+1+"."+n.name,prop:"questions["+a+"].value",rules:{required:n.required,message:"回答不能为空",trigger:"blur"}}},["radio"==n.type?[t("el-radio-group",{model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"item.value"}},[t("div",{staticClass:"selects"},e._l(n.options,function(a,i){return t("div",{key:i,staticClass:"select-item"},[t("el-radio",{attrs:{label:a.value}},[e._v("\n                  "+e._s(a.name)),a.is_blank?t("input",{directives:[{name:"model",rawName:"v-model",value:n.extra,expression:"item.extra"}],staticClass:"other-input",attrs:{type:"text"},domProps:{value:n.extra},on:{input:function(t){t.target.composing||e.$set(n,"extra",t.target.value)}}}):e._e()])],1)}),0)])]:e._e(),e._v(" "),"checkbox"==n.type?[t("el-checkbox-group",{on:{change:e.changeHandler},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"item.value"}},[t("div",{staticClass:"selects"},e._l(n.options,function(a,i){return t("div",{key:i,staticClass:"select-item"},[t("el-checkbox",{attrs:{label:a.value}},[e._v("\n                  "+e._s(a.name)),a.is_blank?t("input",{directives:[{name:"model",rawName:"v-model",value:n.extra,expression:"item.extra"}],staticClass:"other-input",attrs:{type:"text"},domProps:{value:n.extra},on:{input:function(t){t.target.composing||e.$set(n,"extra",t.target.value)}}}):e._e()])],1)}),0)])]:e._e(),e._v(" "),"textarea"==n.type?[t("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"item.value"}})]:e._e()],2)}),e._v(" "),e.form.questions.length?t("el-form-item",[t("div",{staticStyle:{"text-align":"center"}},[t("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1)]):e._e()],2)]],2)},staticRenderFns:[]};var m=t("C7Lr")(p,u,!1,function(e){t("GSnb")},"data-v-c7277eba",null);n.default=m.exports}});