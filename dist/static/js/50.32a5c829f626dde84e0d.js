webpackJsonp([50],{"+rkL":function(e,n,t){var a=t("80BF");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("90531ad2",a,!0,{})},"4o7C":function(e,n,t){var a=t("hcFA");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("f1ca1806",a,!0,{})},"80BF":function(e,n,t){(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.yxsp-icon {\n  display: inline-block;\n  font-size: 9px;\n  padding: 1px;\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #fff;\n  border-radius: 8px;\n  background: #90c320;\n}\n.zdzx-icon {\n  display: inline-block;\n  font-size: 9px;\n  padding: 1px;\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #fff;\n  border-radius: 8px;\n  background: #4877e8;\n}\n.tssp-icon {\n  display: inline-block;\n  font-size: 9px;\n  padding: 1px;\n  width: 14px;\n  height: 14px;\n  line-height: 14px;\n  text-align: center;\n  color: #fff;\n  border-radius: 8px;\n  background: #f5a623;\n}\n.v-modal {\n  background: rgba(102, 102, 102, 0.4);\n}\n",""])},"E8+G":function(e,n,t){var a=t("vL87");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("37fb9b86",a,!0,{})},Wc8S:function(e,n,t){var a=t("iEAE");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t("FIqI")("633ddd24",a,!0,{})},hcFA:function(e,n,t){(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.el-tabs__header {\n  padding-left: 14px;\n  margin: 0px;\n}\n.el-tabs__content {\n  overflow: visible;\n}\n.el-tabs__active-bar {\n  height: 3px;\n  border-radius: 5px;\n}\n.el-tabs__item {\n  padding: 0 14px;\n}\n",""])},iEAE:function(e,n,t){var a=t("L4zZ");(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.la-ypmc {\n  min-height: 100px;\n}\n.la-ypmc .no-data-msg {\n  width: 100%;\n  text-align: center;\n  font-weight: bold;\n}\n.extensible-table .extensible-td {\n  cursor: pointer;\n}\n.extensible-table .extensible-td:hover {\n  color: #4877e8;\n  text-decoration: underline;\n  font-weight: normal;\n}\n.extensible-table tr.el-table__row--striped td.active {\n  color: #4877e8;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom #f5f8fb !important;\n  border: none;\n}\n.extensible-table td {\n  position: relative;\n}\n.extensible-table td .el-icon-caret-top {\n  font-size: 20px;\n  display: none;\n}\n.extensible-table td.active {\n  color: #4877e8;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom;\n  border: none;\n}\n.extensible-table .expand-table th:first-child,\n.extensible-table .expand-table td:first-child {\n  padding-left: 30px;\n}\n",""])},qhgv:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("4YfN"),o=t.n(a),i=t("aA9S"),r=t.n(i),s=t("HzJ8"),l=t.n(s),p=t("2JG8"),c=t("tF2W"),d=t("NZk2"),u=t("bSIt"),h=t("NAxV"),x=t("PKHo"),m=t("cg4i"),f=t("1beP"),g={components:{TooltipBD:p.a,List:c.a,Export:d.a,listCheck:h.a,selectNuit:f.a},mixins:[x.a,m.a],data:function(){return{nuit:"1",activeTabName:"first",defaultFiled:[],tableHead:[],filedVisible:!1,checkallShow:[],show_table:!0,helpDesc:{salesVolume:"根据货币在对应年份的平均汇率换算成万元人民币为单位的销售额数值",salesVolumeOld:"年报中所描述的销售额数值，需结合“货币单位(原始)”字段一起表达销售额",monetaryUnit:"年报中描述的销售额数值所对应的规范后货币单位如：百万美元、千欧元、亿日元等",productCompany:"规范的企业名称，一般按照中文(英文)组合的形式展示",pharmacologyType:"列表显示ATC编码第三级分类"},changeStyle:"",tableHeight:document.documentElement.clientHeight-48-60-60-50-88}},computed:o()({},Object(u.b)({tableconf:function(e){return e.Yaopinxiaoshou.tableconf},allBase:function(e){return e.Yaopinxiaoshou.allBase},res1:function(e){return _.keys(e.Yaopinxiaoshou.res1).length?e.Yaopinxiaoshou.res1.res:[]},errorcode:function(e){return e.Yaopinxiaoshou.error},listLoading:function(e){return e.Yaopinxiaoshou.listLoading},putong:function(e){return e.Yaopinxiaoshou.putong},gaoji:function(e){return e.Yaopinxiaoshou.gaoji},shaixuan:function(e){return e.Yaopinxiaoshou.shaixuan},extendCount:function(e){return e.Yaopinxiaoshou.extendCount},param:function(e){return e.Yaopinxiaoshou.xsnf_param},nopms:function(e){return e.Yaopinxiaoshou.nopms},order:function(e){return e.Yaopinxiaoshou.order}}),{exportDefaultFiled:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var o,i=l()(this.defaultFiled);!(n=(o=i.next()).done);n=!0){var r=o.value;"value"===r.prop&&(r.label=this.nuitValue+"元（RMB）"),e.push(r)}}catch(e){t=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(t)throw a}}return e},nuitValue:function(){var e="";switch(this.nuit){case"1":e="万";break;case"100":e="百万";break;case"1000":e="千万";break;case"10000":e="亿"}return e},exparam:function(){var e={};switch(this.nuit){case"1":e.unitchange="0";break;case"100":e.unitchange="1";break;case"1000":e.unitchange="2";break;case"10000":e.unitchange="3"}return e}}),methods:{getPositonRight:function(e,n){return e&&!n?-42:!e&&n?-40:e&&n?-58:-25},sendGa:function(){this.nopms&&!this.nopms.ksh&&(window.ga("send","event","tab","click","ypxs_analy"),window._paq.push(["trackEvent","tab","click","ypxs_analy"]),this.$router.push({path:"/ypxs/analy"}))},init:function(){this.tableHead=this.defaultFiled.reduce(function(e,n){return n.checked&&e.push(n),e},[])},handleCurrentChange:function(e){this.param.page=e,e*this.param.pageSize<=1500?($(".out-of-page").hide(),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleSizeChange:function(e){this.param.page=1,this.param.pageSize=e,e*this.param.page<=1500?($(".out-of-page").hide(),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})):$(".out-of-page").show()},sortChange:function(e,n,t){var a=void 0;e.prop&&(a=e.prop+" "+("descending"==e.order?"desc":"asc")),this.param.order=a,Store.commit("Yaopinxiaoshou/order",r()({},this.$store.state.Yaopinxiaoshou.order,{base:a||null})),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})}},created:function(){this.init()},updated:function(){this.vueTogglePmsTooltip()},mounted:function(){},activated:function(){this.registerEven()},watch:{res1:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0},tableHead:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0},tableconf:function(e){e.forEach(function(e){e.checked=void 0===e.hidden,e.prop=e.field}),this.defaultFiled=this.tableheaderCombain(e,e),this.init()}}},b={render:function(){var e=this,n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"la-list"},[a("List",{attrs:{loading:n.listLoading,nodata:n.res1&&!n.res1.length}},[a("div",{staticClass:"actions"},[a("span",{staticClass:"action-btn",class:{"abandon-click-method":n.nopms&&n.nopms.ksh},on:{click:n.sendGa}},[a("span",{staticClass:"icon iconfont"},[n._v("")]),n._v("\n        智能分析\n      ")]),n._v(" "),a("list-check",{attrs:{defaultFiled:n.defaultFiled,vuex_name:"Yaopinxiaoshou",showArray:n.tableHead},on:{changeTableHeader:function(t){return n.changeTableHeader(e,t)}}}),n._v(" "),a("Export",{attrs:{out_max:n.allBase.out_max,vuex_name:"Yaopinxiaoshou",api_name:"ypxs",max_num:n.extendCount.listCount,defaultFiled:n.exportDefaultFiled,outdataAction:"base",params:n.exparam}})],1),n._v(" "),n.show_table?a("el-table",{ref:"ElTable",staticClass:"table",staticStyle:{width:"100%"},attrs:{height:n.tableHeight,data:n.res1,stripe:"",fixed:"","default-sort":n.order.base?n.defaultSort(n.order.base):{}},on:{"sort-change":n.sortChange}},n._l(n.tableHead,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,"min-width":e.field_width||e.width||100,sortable:e.sort,label:e.label},scopedSlots:n._u([{key:"header",fn:function(t){return[a("span",[a("NewProjectGuide",{attrs:{postion:"列表",newPosition:{top:-5,right:n.getPositonRight(e.order,e.statement)},onlyKey:e.new_id,display:"inline",compoentsName:"字段",initItem:e,showMenban:e.is_show_new}},[n._v(n._s(e.label))])],1),n._v(" "),e.statement?a("el-tooltip",{attrs:{effect:"zhuce",placement:"right"}},[a("div",{attrs:{slot:"content"},domProps:{innerHTML:n._s(e.statement)},slot:"content"}),n._v(" "),a("i",{staticClass:"el-icon-question cl-green",staticStyle:{"margin-left":"4px","line-height":"28px"}})]):n._e()]}},{key:"value"===e.prop?"header":"",fn:function(e){return[a("selectNuit",{attrs:{gaKey:"nianfen"},model:{value:n.nuit,callback:function(e){n.nuit=e},expression:"nuit"}})]}},{key:"default",fn:function(t){return[a("div",{attrs:{title:t.row[e.prop]}},["brandname"===e.prop?a("div",[n.vueCheckListPms("Yaopinxiaoshou",e.label)?a("span",[a("a",{staticClass:"cl-blue",attrs:{href:"/ypxs/"+t.row.id,target:"_blank"}},[n._v(n._s(t.row.brandname)+n._s(t.row.brandnamecn?"("+t.row.brandnamecn+")":""))])]):a("span",{staticClass:"abandon-click-method"},[n._v("暂无权限")])]):"value"===e.prop?a("div",[n.vueCheckListPms("Yaopinxiaoshou",e.label)?a("span",[n._v(n._s(n.echartsTooltipMoney(n.ypxsNuitChange(n.nuit,t.row.value))))]):a("span",{staticClass:"abandon-click-method"},[n._v("暂无权限")])]):"targets"===e.prop?a("div",{attrs:{title:""}},[n.vueCheckListPms("Yaopinxiaoshou",e.label)?[a("TooltipBD",{attrs:{targets:t.row.targets,targets_abbr:t.row.targets_abbr}})]:a("span",{staticClass:"abandon-click-method"},[n._v("暂无权限")])],2):a("div",[n.vueCheckListPms("Yaopinxiaoshou",e.label)?a("span",[n._v(n._s(t.row[e.prop]))]):a("span",{staticClass:"abandon-click-method"},[n._v("暂无权限")])])])]}}],null,!0)})}),1):n._e(),n._v(" "),a("div",{staticStyle:{positon:"relative"}},[n.extendCount.listCount?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":n.param.page,"page-sizes":[20,30,50],"page-size":n.param.pageSize,layout:"total, sizes, prev, pager, next",total:n.extendCount.listCount,disabled:n.nopms.fy},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e(),n._v(" "),a("span",{staticClass:"out-of-page cl-red"},[n._v("限于内容篇幅，部分结果未予显示")])],1)],1)],1)},staticRenderFns:[]};var v=t("C7Lr")(g,b,!1,function(e){t("+rkL")},null,null).exports,w=t("ZJ3O"),y=t("nYX6"),C=y.a.yaopinxiaoshou.ypmc,k=y.a.yaopinxiaoshou.ypmcExpand,S={components:{LoadingGif:w.a,List:c.a,Export:d.a,listCheck:h.a,selectNuit:f.a},mixins:[x.a,m.a],data:function(){return{show_table_column:!0,scope:"",defaultFiled:C,expandFiled:k,filedVisible:!1,tableHead:[],checkallShow:[],show_table:!0,getRowKeys:function(e){return e.name},expandParams:{pageSize:20,page:1},expands:{expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"},expandsLoading:!0,changeStyle:"",tableHeight:document.documentElement.clientHeight-48-60-60-50-88}},computed:o()({},Object(u.b)({tableconf:function(e){return e.Yaopinxiaoshou.tableconf},allBase:function(e){return e.Yaopinxiaoshou.allBase},nowNav:function(e){return e.Yaopinxiaoshou.nowNav},res2:function(e){return _.keys(e.Yaopinxiaoshou.res2).length?e.Yaopinxiaoshou.res2.res:[]},errocode:function(e){return e.Yaopinxiaoshou.error},listLoading:function(e){return e.Yaopinxiaoshou.listLoading},params:function(e){return e.Yaopinxiaoshou.putong},words:function(e){return e.Yaopinxiaoshou.gaoji},group:function(e){return e.Yaopinxiaoshou.shaixuan},extendCount:function(e){return e.Yaopinxiaoshou.extendCount},param:function(e){return e.Yaopinxiaoshou.ypmc_param},nopms:function(e){return e.Yaopinxiaoshou.nopms},order:function(e){return e.Yaopinxiaoshou.order}}),{exportDefaultFiled:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var o,i=l()(C);!(n=(o=i.next()).done);n=!0){var r=o.value;e.push(r)}}catch(e){t=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(t)throw a}}return e}}),methods:{getFullScreen:function(e){Store.commit("Yaopinxiaoshou/fenxi_yp",[]),Store.commit("Yaopinxiaoshou/nowNav","药品分析"),Store.commit("Yaopinxiaoshou/yp_selects1",[]),Store.commit("Yaopinxiaoshou/yp_selects2",[]),Store.commit("Yaopinxiaoshou/yp_selects3",[]),Store.commit("Yaopinxiaoshou/fenxi_yp_name",e),Store.commit("Yaopinxiaoshou/from","list")},init:function(){this.tableHead=this.defaultFiled.reduce(function(e,n){return n.checked&&e.push(n),e},[])},handleCurrentChange:function(e){this.param.page=e,e*this.param.pageSize<=1500?($(".out-of-page").hide(),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleSizeChange:function(e){this.param.page=1,this.param.pageSize=e,e*this.param.page<=1500?($(".out-of-page").hide(),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})):$(".out-of-page").show()},expandCurrentChange:function(e,n){this.expandParams.page=e,this.expandParams.order=n.row.second[this.scope].order,this.handleRequest(n,n.row.second[this.scope].order)},sortChange:function(e,n,t){var a=void 0;e.prop?("ascending"==e.order?a=e.prop+" asc":"descending"==e.order&&(a=e.prop+" desc"),this.param.order=a):this.param.order=null;var o=_.unset(this.param,"name");this.param=o,Store.commit("Yaopinxiaoshou/order",r()({},this.$store.state.Yaopinxiaoshou.order,{name:a||null})),Store.dispatch("Yaopinxiaoshou/nomalSearch",{path:"/api/ypxs/getnamelist",params:this.param})},expandSortChange:function(e,n){e.column;var t=e.prop,a=e.order,o=void 0;t&&(o="ascending"==a?t+" asc":"descending"==a?t+" desc":""),this.expandParams.order=o,this.expandParams.page=n.row.second[this.scope].page?n.row.second[this.scope].page:1,this.handleRequest(n,o)},handleRequest:function(e,n){var t=this;Store.dispatch("Yaopinxiaoshou/getGroupRes",{path:"/api/ypxs/getbyname",params:this.expandParams}).then(function(a){if(t.expandsLoading=!1,404==a.data.code)t.expands.erroCode="404";else if(200==a.data.code){t.expands.erroCode="200";var o=a.data.data.List;_.forEach(o.res,function(e){e.unit="1"}),o.res&&o.res.length>0&&t.getexpandHeader(o.res[0].year),o.order=n,t.$set(e.row.second,[t.scope],o),$(".el-table").addClass("el-table--scrollable-y")}}).catch(function(e){t.expandsLoading=!1,t.expands.erroCode="500"})},getExpandRes:function(e,n){this.expandParams.sname=e,this.scope=n.column.property,n.row.second[this.scope]?this.$set(n.row.second,[this.scope],n.row.second[this.scope]):(this.$delete(this.expandParams,"order"),this.expandParams.page=1,this.expandsLoading=!0,this.handleRequest(n))},getexpandHeader:function(e){var n=[];_.forIn(e,function(e,t){n.push({prop:t,label:t})}),n.push({prop:"xiangqing",label:"更多数据"}),this.expandFiled=_.concat(k,n)},toggleRowExpansion:function(e,n,t,a){var o=this;if("td"!==a.target.localName&&"cell"!==a.target.className&&"name"==n.property){var i=!1,r=($(t).index(),$(t).parent().index());this.expands.old_row>=0&&this.expands.old_row==r&&(i=!0),this.expands.old_row=r;var s=$(t);this.expands.element||(this.expands.element=s),this.expands.expandsrow=[],n.id==this.expands.expanCell&&i?(s.hasClass("active")?this.expands.element.removeClass("active"):this.expands.element.addClass("active"),this.expands.expanCell="",this.expandParams.page=1):(this.expands.expanCell=n.id,this.expands.expandsrow.push(e.name),this.expands.element.removeClass("active"),s.addClass("active"),this.expands.element=s),this.show_table_column=!1,setTimeout(function(){o.show_table_column=!0},0)}}},created:function(){this.init()},mounted:function(){},activated:function(){this.registerEven()},watch:{res2:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()}),this.expands={expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"}},immediate:!0},tableHead:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0},checkedFiled:function(){var e=this;this.tableHead=[],this.defaultFiled=_.map(C,function(n){return-1!=e.checkedFiled.indexOf(n.prop)?(n.checked=!0,e.tableHead.push(n)):n.checked=!1,n})}}},Y={render:function(){var e=this,n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"la-ypmc"},[a("List",{attrs:{loading:n.listLoading,nodata:n.res2&&!n.res2.length}},[a("div",{staticClass:"actions"},[a("list-check",{attrs:{defaultFiled:n.defaultFiled,vuex_name:"Yaopinxiaoshou",showArray:n.tableHead},on:{changeTableHeader:function(t){return n.changeTableHeader(e,t)}}}),n._v(" "),a("Export",{attrs:{out_max:n.allBase.out_max,vuex_name:"Yaopinxiaoshou",api_name:"ypxs",max_num:n.extendCount.nameCount,defaultFiled:n.exportDefaultFiled,outdataAction:"name"}})],1),n._v(" "),n.show_table?a("el-table",{ref:"ElTable",staticClass:"table extensible-table",staticStyle:{width:"100%"},attrs:{height:n.tableHeight,data:n.res2,stripe:"",fixed:"","row-key":n.getRowKeys,"expand-row-keys":n.expands.expandsrow,"default-sort":n.order.name?n.defaultSort(n.order.name):{}},on:{"sort-change":n.sortChange,"cell-click":n.toggleRowExpansion}},[a("el-table-column",{attrs:{type:"expand",width:"1"},scopedSlots:n._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-expand",attrs:{type:"expand"}},[n.expandsLoading?a("LoadingGif",{attrs:{className:"list-in-loading",classNameImg:"little-size-loading",loadFlag:n.expandsLoading}}):n.show_table_column?a("div",[a("el-table",{ref:"expandtable",staticClass:"expand-table",staticStyle:{width:"100%"},attrs:{data:e.row.second[n.scope]&&e.row.second[n.scope].res,fixed:"","default-sort":e.row.second[n.scope]&&e.row.second[n.scope].order?n.defaultSort(e.row.second[n.scope].order):{}},on:{"sort-change":function(t){return n.expandSortChange(t,e)}}},n._l(n.expandFiled,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,sortable:e.sort,"min-width":e.field_width||e.width||100,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return[a("div",{attrs:{title:t.row[e.prop]}},["brandname"===e.prop?a("div",[n._v("\n                      "+n._s(t.row.brandname)+"\n                    ")]):"atc"===e.prop?a("div",[n._v("\n                      "+n._s(t.row.shuoming)+"\n                    ")]):"company"===e.prop?a("div",[n._v("\n                      "+n._s(t.row.company)+"\n                    ")]):"unit"===e.prop?a("div",[a("selectNuit",{attrs:{gaKey:"yaopin"},model:{value:t.row.unit,callback:function(e){n.$set(t.row,"unit",e)},expression:"scope.row.unit"}})],1):"xiangqing"===e.prop?a("div",[a("router-link",{staticStyle:{color:"#4877e8"},attrs:{tag:"a",to:"/ypxs/"+t.row.id,target:"_blank"}},[n._v("\n                        查看\n                      ")])],1):a("div",[n._v("\n                      "+n._s("-"===t.row.year[e.prop]?"-":n.echartsTooltipMoney(n.ypxsNuitChange(t.row.unit,t.row.year[e.prop])))+"\n                    ")])])]}}],null,!0)})}),1),n._v(" "),e.row.second[n.scope].count>20?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":e.row.second[n.scope].page,"page-size":20,layout:"prev, next",total:e.row.second[n.scope].count,disabled:n.nopms.fy},on:{"current-change":function(t){return n.expandCurrentChange(t,e)}}}):n._e()],1):n._e()],1)}}],null,!1,247468507)}),n._v(" "),n._l(n.tableHead,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,sortable:e.sort,"min-width":e.width,width:e.okWidth||null,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return[a("div",{attrs:{title:t.row[e.prop]}},["name"===e.prop?a("div",{staticClass:"extensible-td cl-blue",on:{click:function(e){return n.getExpandRes(t.row.name,t)}}},[n._v("\n            "+n._s(t.row.name)+"\n          ")]):n._e(),n._v(" "),"cname"===e.prop?a("div",[n._v("\n            "+n._s(t.row.cname)+"\n          ")]):n._e(),n._v(" "),"sp_count"===e.prop?a("div",[n._v("\n            "+n._s(t.row.sp_count)+"\n          ")]):n._e(),n._v(" "),"atc_count"===e.prop?a("div",[n._v("\n            "+n._s(t.row.atc_count)+"\n          ")]):n._e(),n._v(" "),"qy_count"===e.prop?a("div",[n._v("\n            "+n._s(t.row.qy_count)+"\n          ")]):n._e(),n._v(" "),"yaopinfenxi"===e.prop?a("div",[a("a",{staticClass:"cl-blue",attrs:{href:"javascript:void(0);"},on:{click:function(e){return n.getFullScreen(t.row.name)}}},[n._v("药品分析")])]):n._e()])]}}],null,!0)})})],2):n._e(),n._v(" "),a("div",{staticStyle:{positon:"relative"}},[n.extendCount.nameCount?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":n.param.page,"page-sizes":[20,30,50],"page-size":n.param.pageSize,layout:"total, sizes, prev, pager, next",total:n.extendCount.nameCount,disabled:n.nopms.fy},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e(),n._v(" "),a("span",{staticClass:"out-of-page cl-red"},[n._v("限于内容篇幅，部分结果未予显示")])],1)],1)],1)},staticRenderFns:[]};var F=t("C7Lr")(S,Y,!1,function(e){t("Wc8S")},null,null).exports,z=y.a.yaopinxiaoshou.qy,E=y.a.yaopinxiaoshou.qyExpand,L={components:{LoadingGif:w.a,List:c.a,Export:d.a,listCheck:h.a,selectNuit:f.a},mixins:[x.a,m.a],data:function(){return{show_table_column:!0,scope:"",defaultFiled:z,expandFiled:E,filedVisible:!1,tableHead:[],checkallShow:[],show_table:!0,getRowKeys:function(e){return e.company},expandParams:{company_eq:"",pageSize:20,page:1},expands:{expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"},expandsLoading:!0,changeStyle:"",tableHeight:document.documentElement.clientHeight-48-60-60-50-88}},computed:o()({},Object(u.b)({tableconf:function(e){return e.Yaopinxiaoshou.tableconf},allBase:function(e){return e.Yaopinxiaoshou.allBase},nowNav:function(e){return e.Yaopinxiaoshou.nowNav},res3:function(e){return _.keys(e.Yaopinxiaoshou.res3).length?e.Yaopinxiaoshou.res3.res:[]},errocode:function(e){return e.Yaopinxiaoshou.error},listLoading:function(e){return e.Yaopinxiaoshou.listLoading},params:function(e){return e.Yaopinxiaoshou.putong},words:function(e){return e.Yaopinxiaoshou.gaoji},group:function(e){return e.Yaopinxiaoshou.shaixuan},extendCount:function(e){return e.Yaopinxiaoshou.extendCount},param:function(e){return e.Yaopinxiaoshou.qy_param},nopms:function(e){return e.Yaopinxiaoshou.nopms},order:function(e){return e.Yaopinxiaoshou.order}}),{exportDefaultFiled:function(){var e=[],n=!0,t=!1,a=void 0;try{for(var o,i=l()(z);!(n=(o=i.next()).done);n=!0){var r=o.value;e.push(r)}}catch(e){t=!0,a=e}finally{try{!n&&i.return&&i.return()}finally{if(t)throw a}}return e}}),methods:{getYearNum:function(e,n){return e[n]},getFullScreen:function(e){Store.commit("Yaopinxiaoshou/fenxi_qy",[]),Store.commit("Yaopinxiaoshou/nowNav","企业分析"),Store.commit("Yaopinxiaoshou/qy_selects1",[]),Store.commit("Yaopinxiaoshou/qy_selects2",[]),Store.commit("Yaopinxiaoshou/qy_selects3",[]),Store.commit("Yaopinxiaoshou/fenxi_qy_name",e),Store.commit("Yaopinxiaoshou/from","list")},init:function(){this.tableHead=this.defaultFiled.reduce(function(e,n){return n.checked&&e.push(n),e},[])},handleCurrentChange:function(e){this.param.page=e,e*this.param.pageSize<=1500?($(".out-of-page").hide(),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})):$(".out-of-page").show()},handleSizeChange:function(e){this.param.page=1,this.param.pageSize=e,e*this.param.page<=1500?($(".out-of-page").hide(),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})):$(".out-of-page").show()},expandCurrentChange:function(e,n){this.expandParams.page=e,this.expandParams.order=n.row.second[this.scope].order,this.handleRequest(n,n.row.second[this.scope].order)},sortChange:function(e,n,t){var a=void 0;e.prop&&(a=e.prop+" "+("descending"==e.order?"desc":"asc")),this.param.order=a,Store.commit("Yaopinxiaoshou/order",r()({},this.$store.state.Yaopinxiaoshou.order,{qiye:a||null})),Store.dispatch("Yaopinxiaoshou/nomalSearch",{params:this.param})},expandSortChange:function(e,n){e.column;var t=e.prop,a=e.order,o=void 0;t&&(o="ascending"==a?t+" asc":"descending"==a?t+" desc":""),this.expandParams.order=o,this.expandParams.page=n.row.second[this.scope].page?n.row.second[this.scope].page:1,this.handleRequest(n,o)},handleRequest:function(e,n){var t=this;Store.dispatch("Yaopinxiaoshou/getGroupRes",{path:"/api/ypxs/getbyqy",params:this.expandParams}).then(function(a){if(t.expandsLoading=!1,404==a.data.code)t.expands.erroCode="404";else if(200==a.data.code){t.expands.erroCode="200";var o=a.data.data.List;_.forEach(o.res,function(e){e.unit="1"}),o.res&&o.res.length>0&&t.getexpandHeader(o.res[0].year),o.order=n,t.$set(e.row.second,[t.scope],o),$(".el-table").addClass("el-table--scrollable-y")}}).catch(function(e){t.expandsLoading=!1,t.expands.erroCode="500"})},getexpandHeader:function(e){var n=[];_.forIn(e,function(e,t){n.push({prop:t,label:t})}),n.push({prop:"xiangqing",label:"更多数据"}),this.expandFiled=_.concat(E,n)},getExpandRes:function(e,n){this.expandParams.company_eq=e,n.row.second[this.scope]?this.$set(n.row.second,[this.scope],n.row.second[this.scope]):(this.expandParams.page=1,this.expandsLoading=!0,this.$delete(this.expandParams,"order"),this.handleRequest(n))},toggleRowExpansion:function(e,n,t,a){var o=this;if("td"!==a.target.localName&&"cell"!==a.target.className&&"company"==n.property){var i=!1,r=($(t).index(),$(t).parent().index());this.expands.old_row>=0&&this.expands.old_row==r&&(i=!0),this.expands.old_row=r;var s=$(a.srcElement).closest("td");this.expands.element||(this.expands.element=s),this.expands.expandsrow=[],n.id==this.expands.expanCell&&i?(s.hasClass("active")?this.expands.element.removeClass("active"):this.expands.element.addClass("active"),this.expands.expanCell="",this.expandParams.page=1):(this.expands.expanCell=n.id,this.expands.expandsrow.push(e.company),this.expands.element.removeClass("active"),s.addClass("active"),this.expands.element=s),this.show_table_column=!1,setTimeout(function(){o.show_table_column=!0},0)}}},created:function(){this.init()},mounted:function(){},activated:function(){this.registerEven()},watch:{res3:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()}),this.expands={expandsrow:[],element:null,expanCell:"",expandRes:{},erroCode:"200"}},immediate:!0},tableHead:{handler:function(){var e=this;this.$nextTick(function(){e.registerEven()})},immediate:!0},checkedFiled:function(){var e=this;this.tableHead=[],this.defaultFiled=_.map(z,function(n){return-1!=e.checkedFiled.indexOf(n.prop)?(n.checked=!0,e.tableHead.push(n)):n.checked=!1,n})}}},q={render:function(){var e=this,n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"la-qy"},[a("List",{attrs:{loading:n.listLoading,nodata:n.res3&&!n.res3.length}},[a("div",{staticClass:"actions"},[a("list-check",{attrs:{defaultFiled:n.defaultFiled,vuex_name:"Yaopinxiaoshou",showArray:n.tableHead},on:{changeTableHeader:function(t){return n.changeTableHeader(e,t)}}}),n._v(" "),a("Export",{attrs:{out_max:n.allBase.out_max,vuex_name:"Yaopinxiaoshou",api_name:"ypxs",max_num:n.extendCount.qiyeCount,defaultFiled:n.exportDefaultFiled,outdataAction:"qiye"}})],1),n._v(" "),n.show_table?a("el-table",{ref:"ElTable",staticClass:"table extensible-table",staticStyle:{width:"100%"},attrs:{height:n.tableHeight,data:n.res3,stripe:"",fixed:"","default-sort":n.order.qiye?n.defaultSort(n.order.qiye):{},"row-key":n.getRowKeys,"expand-row-keys":n.expands.expandsrow},on:{"sort-change":n.sortChange,"cell-click":n.toggleRowExpansion}},[a("el-table-column",{attrs:{type:"expand",width:"1"},scopedSlots:n._u([{key:"default",fn:function(e){return a("div",{staticClass:"table-expand",attrs:{type:"expand"}},[n.expandsLoading?a("LoadingGif",{attrs:{className:"list-in-loading",classNameImg:"little-size-loading",loadFlag:n.expandsLoading}}):n.show_table_column?a("div",[a("el-table",{ref:"expandtable",staticStyle:{width:"100%"},attrs:{data:e.row.second[n.scope]&&e.row.second[n.scope].res,fixed:"","default-sort":e.row.second[n.scope]&&e.row.second[n.scope].order?n.defaultSort(e.row.second[n.scope].order):{}},on:{"sort-change":function(t){return n.expandSortChange(t,e)}}},n._l(n.expandFiled,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,sortable:e.sort,"min-width":e.field_width||e.width||100,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return[a("div",{attrs:{title:t.row[e.prop]}},["brandname"===e.prop?a("div",[n._v("\n                      "+n._s(t.row.brandname)+"\n                    ")]):"name"===e.prop?a("div",[n._v("\n                      "+n._s(t.row.name)+"\n                    ")]):"atc"===e.prop?a("div",[n._v("\n                      "+n._s(t.row.shuoming)+"\n                    ")]):"unit"===e.prop?a("div",[a("selectNuit",{attrs:{gaKey:"qiye"},model:{value:t.row.unit,callback:function(e){n.$set(t.row,"unit",e)},expression:"scope.row.unit"}})],1):"xiangqing"===e.prop?a("div",[a("router-link",{staticStyle:{color:"#4877e8"},attrs:{tag:"a",to:"/ypxs/"+t.row.id,target:"_blank"}},[n._v("\n                        查看\n                      ")])],1):a("div",[n._v("\n                      "+n._s("-"===t.row.year[e.prop]?"-":n.echartsTooltipMoney(n.ypxsNuitChange(t.row.unit,t.row.year[e.prop])))+"\n                    ")])])]}}],null,!0)})}),1),n._v(" "),e.row.second[n.scope]&&e.row.second[n.scope].count>20?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":e.row.second[n.scope]&&e.row.second[n.scope].page,"page-size":20,layout:"prev, next",total:e.row.second[n.scope]&&e.row.second[n.scope].count,disabled:n.nopms.fy},on:{"current-change":function(t){return n.expandCurrentChange(t,e)}}}):n._e()],1):a("div",[a("p",{staticClass:"no-data-msg"},[n._v("暂无数据")])])],1)}}],null,!1,3813466872)}),n._v(" "),n._l(n.tableHead,function(e){return a("el-table-column",{key:e.prop,attrs:{prop:e.prop,sortable:e.sort,width:e.okWidth,label:e.label},scopedSlots:n._u([{key:"default",fn:function(t){return[a("div",{attrs:{title:t.row[e.prop]}},["company"===e.prop?a("div",{staticClass:"extensible-td cl-blue",on:{click:function(e){return n.getExpandRes(t.row.company,t)}}},[n._v("\n            "+n._s(t.row.company)+"\n          ")]):n._e(),n._v(" "),"sp_count"===e.prop?a("div",[n._v("\n            "+n._s(t.row.sp_count)+"\n          ")]):n._e(),n._v(" "),"atc_count"===e.prop?a("div",[n._v("\n            "+n._s(t.row.atc_count)+"\n          ")]):n._e(),n._v(" "),"qiyefenxi"===e.prop?a("div",[a("a",{staticClass:"cl-blue",attrs:{href:"javascript:void(0);"},on:{click:function(e){return n.getFullScreen(t.row.company)}}},[n._v("企业分析")])]):n._e()])]}}],null,!0)})})],2):n._e(),n._v(" "),a("div",{staticStyle:{positon:"relative"}},[n.extendCount.qiyeCount?a("el-pagination",{class:{"abandon-click-method":n.nopms.fy},attrs:{"current-page":n.param.page,"page-sizes":[20,30,50],"page-size":n.param.pageSize,layout:"total, sizes, prev, pager, next",total:n.extendCount.qiyeCount,disabled:n.nopms.fy},on:{"size-change":n.handleSizeChange,"current-change":n.handleCurrentChange}}):n._e(),n._v(" "),a("span",{staticClass:"out-of-page cl-red"},[n._v("限于内容篇幅，部分结果未予显示")])],1)],1)],1)},staticRenderFns:[]};var P={components:{ListOne:v,ListTwo:F,ListThree:t("C7Lr")(L,q,!1,function(e){t("E8+G")},null,null).exports},data:function(){return{}},computed:o()({},Object(u.b)({activeTabName:function(e){return e.Yaopinxiaoshou.tabname},extendCount:function(e){return e.Yaopinxiaoshou.extendCount},res1:function(e){return e.Yaopinxiaoshou.res1},res2:function(e){return e.Yaopinxiaoshou.res2},res3:function(e){return e.Yaopinxiaoshou.res3},nopms:function(e){return e.Yaopinxiaoshou.nopms},allBase:function(e){return e.Yaopinxiaoshou.allBase}})),created:function(){var e=this;setTimeout(function(){var n=sessionStorage.getItem("hashLocation");window._paq.push(["setCustomUrl","https://"+n]),window._paq.push(["trackPageView",e.allBase.dbname]),window._paq.push(["setDocumentTitle",e.allBase.dbname])},1e3)},methods:{handleClickTag:function(e,n){window.ga("send","event","tab","click","ypxs_"+e.name),window._paq.push(["trackEvent","tab","click","ypxs_"+e.name]);var t="first"===e.name?"/api/ypxs/":"/api/ypxs/"+e.name;Store.commit("Yaopinxiaoshou/tabname",e.name),Store.commit("Yaopinxiaoshou/path",t),("first"===e.name&&!_.keys(this.res1.res).length||"getnamelist"===e.name&&!_.keys(this.res2.res).length||"getqylist"===e.name&&!_.keys(this.res3.res).length)&&Store.dispatch("Yaopinxiaoshou/nomalSearch",{path:t,queryToPutong:!1})}}},B={render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",[t("el-tabs",{staticClass:"la-list",attrs:{value:e.activeTabName},on:{"tab-click":e.handleClickTag}},[t("el-tab-pane",{staticClass:"slh-pane",attrs:{label:e.getTabLabel("按销售年份浏览",e.extendCount.listCount),name:"first"}},[t("ListOne")],1),e._v(" "),t("el-tab-pane",{class:{"abandon-click-method":e.nopms.namegroup},attrs:{label:e.getTabLabel("按药品通用名浏览",e.extendCount.nameCount),name:"getnamelist",disabled:e.nopms.namegroup}},[t("ListTwo")],1),e._v(" "),t("el-tab-pane",{class:{"abandon-click-method":e.nopms.qiyegroup},attrs:{label:e.getTabLabel("按企业名称浏览",e.extendCount.qiyeCount),name:"getqylist",disabled:e.nopms.qiyegroup}},[t("ListThree")],1)],1)],1)},staticRenderFns:[]};var T=t("C7Lr")(P,B,!1,function(e){t("4o7C")},null,null);n.default=T.exports},vL87:function(e,n,t){var a=t("L4zZ");(e.exports=t("UTlt")(!1)).push([e.i,"\n.el-input__inner::-webkit-input-placeholder {\n  color: #A9ADB7;\n}\n.el-input__inner::-moz-placeholder {\n  /* Mozilla Firefox 19+ */\n  color: #A9ADB7;\n}\n.el-input__inner:-moz-placeholder {\n  /* Mozilla Firefox 4 to 18 */\n  color: #A9ADB7;\n}\n.el-input__inner:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #A9ADB7;\n}\n.el-checkbox__label {\n  padding-left: 6px;\n  font-size: 12px;\n}\n.el-checkbox {\n  font-size: 12px;\n  color: #545B6D;\n}\n.el-input {\n  font-size: 12px;\n}\ninput.el-input__inner {\n  border-color: #DFE5F1;\n}\nbutton.border-color {\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner {\n  width: 12px;\n  height: 12px;\n  border-color: #DFE5F1;\n}\n.el-checkbox__inner::after {\n  top: 0;\n}\n.el-select-dropdown__item {\n  font-size: 12px;\n}\n/*主色为蓝色系*/\n/* @PrimaryBackgroundColor: hsl(hue(@PrimaryColor), 100%, 96%); */\n/*字体颜色*/\n/* 通用头部head部分样式 */\n/* @BorderColor: hsl(hue(@PrimaryColor), 20%, 80%); */\n/* table */\n/* @ThBackgroundColor: hsl(hue(@PrimaryColor)+12, 33%, 96%); */\n/* detail列表详情下的table */\n/* detail列表详情下的slide-section */\n/* detail列表详情下的slide-section 时光轴样式 */\n.la-qy {\n  min-height: 100px;\n}\n.la-qy .no-data-msg {\n  width: 100%;\n  text-align: center;\n  font-weight: bold;\n}\n.extensible-table .extensible-td {\n  cursor: pointer;\n}\n.extensible-table .extensible-td:hover {\n  color: #4877e8;\n  text-decoration: underline;\n  font-weight: normal;\n}\n.extensible-table tr.el-table__row--striped td.active {\n  color: #4877e8;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom #f5f8fb !important;\n  border: none;\n}\n.extensible-table td {\n  position: relative;\n}\n.extensible-table td .el-icon-caret-top {\n  font-size: 20px;\n  display: none;\n}\n.extensible-table td.active {\n  color: #4877e8;\n  background: url("+a(t("2+JL"))+") no-repeat 30px bottom;\n  border: none;\n}\n",""])}});